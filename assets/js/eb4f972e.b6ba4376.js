"use strict";(self.webpackChunkkratix_docs=self.webpackChunkkratix_docs||[]).push([[703],{22267:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"main/reference/statestore/statestore-status-events","title":"StateStore Status and Events","description":"Understand the status conditions and events for GitStateStore and BucketStateStore.","source":"@site/docs/main/03-reference/14-statestore/04-status-events.mdx","sourceDirName":"main/03-reference/14-statestore","slug":"/main/reference/statestore/status-events","permalink":"/main/reference/statestore/status-events","draft":false,"unlisted":false,"editUrl":"https://github.com/syntasso/kratix-docs/tree/main/docs/main/03-reference/14-statestore/04-status-events.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"StateStore Status and Events","description":"Understand the status conditions and events for GitStateStore and BucketStateStore.","sidebar_label":"Status and Events","id":"statestore-status-events","slug":"/main/reference/statestore/status-events","keywords":["statestore status","statestore events","gitstatestore status","bucketstatestore status"]},"sidebar":"mainSidebar","previous":{"title":"BucketStateStore","permalink":"/main/reference/statestore/bucketstatestore"},"next":{"title":"Introduction","permalink":"/main/reference/resources/intro"}}');var a=s(74848),r=s(28453);const o={title:"StateStore Status and Events",description:"Understand the status conditions and events for GitStateStore and BucketStateStore.",sidebar_label:"Status and Events",id:"statestore-status-events",slug:"/main/reference/statestore/status-events",keywords:["statestore status","statestore events","gitstatestore status","bucketstatestore status"]},i=void 0,d={},c=[{value:"Status",id:"status",level:2},{value:"Events",id:"events",level:2},{value:"Examples",id:"examples",level:2}];function l(e){const t={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["This page applies to both ",(0,a.jsx)(t.code,{children:"GitStateStore"})," and ",(0,a.jsx)(t.code,{children:"BucketStateStore"}),". The status conditions and events are the same for\nboth types; examples below show each resource kind."]}),"\n",(0,a.jsx)(t.h2,{id:"status",children:"Status"}),"\n",(0,a.jsxs)(t.p,{children:["The StateStore ",(0,a.jsx)(t.code,{children:"status.status"})," field can be ",(0,a.jsx)(t.code,{children:"Ready"})," or ",(0,a.jsx)(t.code,{children:"NotReady"}),", depending on whether Kratix can write to the\nbacking storage."]}),"\n",(0,a.jsxs)(t.p,{children:["A ",(0,a.jsx)(t.code,{children:"Ready"})," condition is also provided so you can wait for State Stores to become usable."]}),"\n",(0,a.jsx)(t.p,{children:"When a State Store is not ready, the condition message includes the underlying failure (for example, errors\ninitialising the writer or validating permissions)."}),"\n",(0,a.jsx)(t.h2,{id:"events",children:"Events"}),"\n",(0,a.jsx)(t.p,{children:"State Stores emit these events:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"Ready"})," (",(0,a.jsx)(t.code,{children:"Normal"}),") \u2013 the State Store is ready to use."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"NotReady"})," (",(0,a.jsx)(t.code,{children:"Warning"}),") \u2013 Kratix cannot write to the State Store; the message includes the failure."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"InvalidCredentials"})," (",(0,a.jsx)(t.code,{children:"Warning"}),", GitStateStore only) \u2013 authentication succeeded only after trimming trailing\nwhitespace in the Secret; update the Secret to remove it."]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(t.p,{children:"GitStateStore:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:'$ kubectl describe gitstatestores.platform.kratix.io default\nName:         default\n...\nStatus:\n  Conditions:\n    Last Transition Time:  2025-03-05T12:53:12Z\n    Message:               State store is ready\n    Reason:                StateStoreReady\n    Status:                True\n    Type:                  Ready\n  Status:                  Ready\nEvents:\n  Type     Reason    Age    From                     Message\n  ----     ------    ----   ----                     -------\n  Warning  NotReady  2m44s  GitStateStoreController  GitStateStore "default" is not ready: Error writing test file: Get "https://172.18.0.2:31333/gitea_admin/kratix/info/refs?service=git-upload-pack": dial tcp 172.18.0.2:31333: connect: connection refused\n  Warning  NotReady  2m32s  GitStateStoreController  GitStateStore "default" is not ready: Error writing test file: repository not found: Repository not found\n  Normal   Ready     2m21s  GitStateStoreController  GitStateStore "default" is ready\n'})}),"\n",(0,a.jsx)(t.p,{children:"BucketStateStore:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:'$ kubectl describe bucketstatestores.platform.kratix.io default\nName:         default\n...\nStatus:\n  Conditions:\n    Last Transition Time:  2025-03-05T12:52:49Z\n    Message:               State store is ready\n    Reason:                StateStoreReady\n    Status:                True\n    Type:                  Ready\n  Status:                  Ready\nEvents:\n  Type    Reason  Age   From                        Message\n  ----    ------  ----  ----                        -------\n  Normal  Ready   11m   BucketStateStoreController  BucketStateStore "default" is ready\n'})})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>i});var n=s(96540);const a={},r=n.createContext(a);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);