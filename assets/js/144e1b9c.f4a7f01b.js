"use strict";(self.webpackChunkkratix_docs=self.webpackChunkkratix_docs||[]).push([[5029],{9494:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var s=n(5893),r=n(1151);const i={title:"Installation",description:"Installing Syntasso Kratix Enterprise",sidebar_label:"Installation"},a=void 0,o={id:"ske/kratix/installation",title:"Installation",description:"Installing Syntasso Kratix Enterprise",source:"@site/docs/ske/01-kratix/01-installation.mdx",sourceDirName:"ske/01-kratix",slug:"/ske/kratix/installation",permalink:"/ske/kratix/installation",draft:!1,unlisted:!1,editUrl:"https://github.com/syntasso/kratix-docs/tree/main/docs/ske/01-kratix/01-installation.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Installation",description:"Installing Syntasso Kratix Enterprise",sidebar_label:"Installation"},sidebar:"skeSidebar",previous:{title:"Introduction",permalink:"/ske/kratix/intro"},next:{title:"Introduction",permalink:"/ske/integrations/intro"}},l={},c=[{value:"Create the Pull Secret",id:"create-the-pull-secret",level:3},{value:"Apply the manifest",id:"apply-the-manifest",level:3},{value:"Verify the installation",id:"verify-the-installation",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Syntasso Kratix Enterprise images are distributed through a private image registry. To\ninstall SKE on your Kubernetes cluster, follow the steps below."}),"\n",(0,s.jsx)(t.h3,{id:"create-the-pull-secret",children:"Create the Pull Secret"}),"\n",(0,s.jsx)(t.p,{children:"To enable your Kubernetes cluster to pull images from the private registry, you need to\ncreate a secret with the registry credentials."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"kubectl create secret docker-registry syntasso-registry \\\n  --namespace=kratix-platform-system \\\n  --docker-server=ghcr.io \\\n  --docker-username=syntasso-pkg \\\n  --docker-password=<YOUR TOKEN>\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Replace ",(0,s.jsx)(t.code,{children:"<YOUR TOKEN>"})," with the token provided by Syntasso."]}),"\n",(0,s.jsxs)(t.admonition,{type:"warning",children:[(0,s.jsxs)(t.p,{children:["The secret above must exist in the ",(0,s.jsx)(t.code,{children:"kratix-platform-system"})," namespace and in all\nnamespaces where resource requests will be made from."]}),(0,s.jsxs)(t.p,{children:["Alternatively, you can follow the ",(0,s.jsx)(t.a,{href:"https://kubernetes.io/docs/concepts/containers/images/#configuring-nodes-to-authenticate-to-a-private-registry",children:"Kubernetes\ndocumentation"}),"\nand configure your nodes to authenticate directly with the private registry."]})]}),"\n",(0,s.jsx)(t.h3,{id:"apply-the-manifest",children:"Apply the manifest"}),"\n",(0,s.jsx)(t.p,{children:"With the secret in place, you can now install Kratix Enterprise using the following command:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"kubectl apply --filename ske-distribution.yaml\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"ske-distribution.yaml"})," file is provided by Syntasso and contains the necessary\nconfigurations to install Kratix Enterprise on your cluster."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"Syntasso Kratix Enterprise requires cert-manager to be installed on the cluster. Please\nrefer to the Open-Source Kratix documentation for instructions on how to install cert-manager."})}),"\n",(0,s.jsx)(t.h3,{id:"verify-the-installation",children:"Verify the installation"}),"\n",(0,s.jsx)(t.p,{children:"To verify that Kratix Enterprise has been installed successfully, run the following command:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"kubectl get deployments.apps --namespace kratix-platform-system\n"})}),"\n",(0,s.jsx)(t.p,{children:"You should see the following output:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell-session",children:"NAME                                 READY   UP-TO-DATE   AVAILABLE   AGE\nkratix-platform-controller-manager   1/1     1            1           13m\n"})}),"\n",(0,s.jsx)(t.p,{children:"If you inspect the images used by the deployment:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'kubectl get deployments.apps kratix-platform-controller-manager --namespace kratix-platform-system --output yaml | grep " ghcr"\n'})}),"\n",(0,s.jsx)(t.p,{children:"You should an output similar to:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell-session",children:"image: ghcr.io/syntasso/ske-platform:4317d6553b0b29a7c005d86828666ea4f73641fa\n"})}),"\n",(0,s.jsx)(t.p,{children:"This confirms that the controller manager is running the correct image."}),"\n",(0,s.jsx)(t.p,{children:"You can now proceed with the configuration of Kratix (i.e. registering destinations or\ninstalling promises). For that, refer to the Open-Source Kratix documentation."})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>a});var s=n(7294);const r={},i=s.createContext(r);function a(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);