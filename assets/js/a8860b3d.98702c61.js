"use strict";(self.webpackChunkkratix_docs=self.webpackChunkkratix_docs||[]).push([[7869],{28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>o});var i=n(96540);const r={},a=i.createContext(r);function s(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:t},e.children)}},83836:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"main/platform-concepts/private-image-registries","title":"Private Image Registries","description":"Use private registries with Kratix deployments and workflow images.","source":"@site/docs/main/05-platform-concepts/07-private-image-registries.mdx","sourceDirName":"main/05-platform-concepts","slug":"/main/platform-concepts/private-image-registries","permalink":"/main/platform-concepts/private-image-registries","draft":false,"unlisted":false,"editUrl":"https://github.com/syntasso/kratix-docs/tree/main/docs/main/05-platform-concepts/07-private-image-registries.mdx","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"Private Image Registries","description":"Use private registries with Kratix deployments and workflow images."},"sidebar":"mainSidebar","previous":{"title":"Multi-tenancy","permalink":"/main/platform-concepts/multi-tenancy"},"next":{"title":"Authentication and Authorization","permalink":"/category/authentication-and-authorization"}}');var r=n(74848),a=n(28453);const s={title:"Private Image Registries",description:"Use private registries with Kratix deployments and workflow images."},o=void 0,c={},l=[{value:"Workflow images",id:"workflow-images",level:2}];function p(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Kratix workflows pull images like any other Kubernetes workload. If your\ncluster needs private registry access, use ",(0,r.jsx)(t.code,{children:"imagePullSecrets"}),". See the\nKubernetes docs on ",(0,r.jsx)(t.a,{href:"https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/",children:"pulling images from a private registry"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"workflow-images",children:"Workflow images"}),"\n",(0,r.jsxs)(t.p,{children:["Promise workflows run in the ",(0,r.jsx)(t.code,{children:"kratix-platform-system"})," namespace and resource\nworkflows run in the resource request namespace. For private images, create an\nimage pull secret in the relevant namespace and reference it in the Pipeline\nspec via ",(0,r.jsx)(t.code,{children:"imagePullSecrets"}),". That ensures the workflow Job can pull all of the\ncontainer images it needs."]}),"\n",(0,r.jsx)(t.p,{children:"Example Pipeline snippet:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:"platform: platform.kratix.io/v1alpha1\nkind: Promise\nmetadata:\n  name: example\nspec:\n  workflows:\n    resource:\n      configure:\n      - apiVersion: platform.kratix.io/v1alpha1\n        kind: Pipeline\n        metadata:\n          name: build\n        spec:\n          containers:\n          - name: runner\n            image: registry.example.com/team/tooling:1.2.3\n          imagePullSecrets:\n          - name: registry-creds\n"})})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}}}]);