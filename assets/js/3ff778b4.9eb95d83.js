"use strict";(self.webpackChunkkratix_docs=self.webpackChunkkratix_docs||[]).push([[6294],{41988:e=>{e.exports=JSON.parse('{"permalink":"/blog/sept-2024-product-update","source":"@site/blog/2024-09-24-product-update/index.mdx","title":"September Product Update","description":"Kratix CLI++, Permissions, and Backstage","date":"2024-09-24T00:00:00.000Z","tags":[{"inline":true,"label":"kratix","permalink":"/blog/tags/kratix"},{"inline":true,"label":"product update","permalink":"/blog/tags/product-update"},{"inline":true,"label":"backstage","permalink":"/blog/tags/backstage"}],"readingTime":4.745,"hasTruncateMarker":true,"authors":[{"name":"Cat Morris","title":"Product Manager @ Syntasso","url":"https://github.com/catmo-syntasso","imageURL":"https://github.com/catmo-syntasso.png","key":"cat","page":null}],"frontMatter":{"slug":"sept-2024-product-update","title":"September Product Update","description":"Kratix CLI++, Permissions, and Backstage","authors":["cat"],"tags":["kratix","product update","backstage"]},"unlisted":false,"prevItem":{"title":"How your Resources get from Promise to Destination","permalink":"/blog/from-platform-to-destination"}}')},92401:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>p,contentTitle:()=>h,default:()=>g,frontMatter:()=>d,metadata:()=>i,toc:()=>m});var i=s(41988),r=s(74848),a=s(28453),n=s(98957),o=s.n(n);const l=s.p+"assets/medias/cli-demo-2829ce8333d58037eb495b7a31354828.mp4",c=s.p+"assets/medias/ske-cli-ccba4afe31d54a6662f682369576d4f6.mp4",u=s.p+"assets/images/backstage-fe59b23f4aadbd35148377a85ffb7d47.webp",d={slug:"sept-2024-product-update",title:"September Product Update",description:"Kratix CLI++, Permissions, and Backstage",authors:["cat"],tags:["kratix","product update","backstage"]},h=void 0,p={authorsImageUrls:[void 0]},m=[{value:"TL;DR",id:"tldr",level:2},{value:"Big stuff for the fans of Kratix",id:"big-stuff-for-the-fans-of-kratix",level:2},{value:"Kratix Promise building CLI",id:"kratix-promise-building-cli",level:3},{value:"SKE Operator",id:"ske-operator",level:3},{value:"Neat stuff (because security should not be YOLO!)",id:"neat-stuff-because-security-should-not-be-yolo",level:2},{value:"Security uplift",id:"security-uplift",level:3},{value:"RBAC permissions for your pipelines",id:"rbac-permissions-for-your-pipelines",level:4},{value:"Security Contexts for Your Pods",id:"security-contexts-for-your-pods",level:4},{value:"More control over Backstage (with Kratix)",id:"more-control-over-backstage-with-kratix",level:2},{value:"Useful Kratix resources",id:"useful-kratix-resources",level:2}];function f(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Hi friends \ud83d\ude0a I'm Cat, Product Manager here at Syntasso, and I've been listening\nto you, our avid followers. \"Cat, we love Kratix, and we love your team; we want\nan update!\" I hear you scream, so here I am, delivering this top-quality\ncontent. You're welcome."}),"\n",(0,r.jsx)(t.p,{children:"Given that this is our first Kratix Product Update\u2122 (not really \u2122), I wanted to\nshout about some of the great work the team has done over the last few months,\nso we're going back a bit further than we usually will\u2026 Indulge me; it was my\nbirthday this month."}),"\n",(0,r.jsx)(t.h2,{id:"tldr",children:"TL;DR"}),"\n",(0,r.jsx)(o(),{width:"100%",playsinline:!0,wrapper:"p",controls:!1,height:200,playing:!0,muted:!0,loop:!0,url:"https://media0.giphy.com/media/Emg9qPKR5hquI/giphy.mp4"}),"\n",(0,r.jsx)(t.p,{children:"If you only have 10 seconds spare to read this blog, these are the features you\nneed to know about:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"We have two CLIs now! One for building promises and one for installing SKE (Syntasso Kratix Enterprise)"}),"\n",(0,r.jsx)(t.li,{children:"Setting permissions just got a little bit easier"}),"\n",(0,r.jsx)(t.li,{children:"If you like Backstage, you\u2019ll like what we\u2019re up to"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"big-stuff-for-the-fans-of-kratix",children:"Big stuff for the fans of Kratix"}),"\n",(0,r.jsx)(o(),{width:"100%",playsinline:!0,height:200,playing:!0,muted:!0,loop:!0,url:"https://media0.giphy.com/media/yGEbmgiCJYu3u/giphy.mp4"}),"\n",(0,r.jsx)(t.h3,{id:"kratix-promise-building-cli",children:"Kratix Promise building CLI"}),"\n",(0,r.jsxs)(t.p,{children:["Like all good tools for developers, we needed a CLI - and one that is more than\njust a rat nest of bash scripts*. It's now even easier to quickly whip together\na Promise from scratch, or your existing ",(0,r.jsx)(t.strong,{children:"operators"})," and ",(0,r.jsx)(t.strong,{children:"helm charts"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"It's unbelievably easy to get started. Head over to our kratix-cli repo,\ndownload the latest release and go wild. You can read up on the tool in our docs\nas well!"}),"\n","\n",(0,r.jsx)("p",{align:"center",children:(0,r.jsx)(o(),{wrapper:"span",controls:!0,url:l})}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"That's sweet!"})}),"\n",(0,r.jsx)(t.p,{children:"\u2014 an actual quote from a customer trying out the new CLI."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"*no offence meant to rats, their nests, or bash scripts that resemble said nests"}),"\n",(0,r.jsx)(t.h3,{id:"ske-operator",children:"SKE Operator"}),"\n",(0,r.jsxs)(t.p,{children:["Our enterprise product, ",(0,r.jsx)(t.a,{href:"https://www.syntasso.io/pricing",children:"Syntasso Kratix Enterprise\n(SKE)"}),", comes with a bunch of cool features\nthat makes it mega easy to get started, including integrations with Backstage,\nTerraform Enterprise and now, super speedy installation via our ",(0,r.jsx)(t.a,{href:"https://docs.kratix.io/ske/kratix/configuring-ske/via-helm",children:"helm\nchart"})," and the\n",(0,r.jsx)(t.a,{href:"https://docs.kratix.io/ske/kratix/configuring-ske/via-ske-cli",children:"ske-cli"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"This will pull in some really cool stuff - it can help manage  upgrading Kratix,\ncheck if those upgrades worked, and help you with rollbacks."}),"\n",(0,r.jsxs)(t.p,{children:["If you want to try it out, ping us an email at ",(0,r.jsx)(t.a,{href:"mailto:kratix@syntasso.io",children:"kratix@syntasso.io"}),", and we\u2019ll\nhook you up \ud83d\ude0e"]}),"\n","\n",(0,r.jsx)(o(),{wrapper:"span",muted:!0,controls:!0,url:c}),"\n",(0,r.jsx)(t.h2,{id:"neat-stuff-because-security-should-not-be-yolo",children:"Neat stuff (because security should not be YOLO!)"}),"\n",(0,r.jsx)(o(),{width:"100%",playsinline:!0,height:200,playing:!0,muted:!0,loop:!0,url:"https://media4.giphy.com/media/HHWdyVKaKJfI8qqJKU/giphy.mp4"}),"\n",(0,r.jsx)(t.h3,{id:"security-uplift",children:"Security uplift"}),"\n",(0,r.jsx)(t.p,{children:"So security is hard. We\u2019ve made this a little bit easier in two ways."}),"\n",(0,r.jsx)(t.h4,{id:"rbac-permissions-for-your-pipelines",children:"RBAC permissions for your pipelines"}),"\n",(0,r.jsx)(t.p,{children:"You can set the RBAC permissions you want all your pipelines to have in the promise spec. There are a few ways you can do this depending on your use of service accounts and namespaces, so check out our docs."}),"\n",(0,r.jsx)(t.p,{children:"This will give you as the promise writer more control of the permissions of your pipelines without having to manually set things up after applying a promise."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:'platform: platform.kratix.io/v1alpha1\nkind: Promise\nmetadata:\n  name: env\nspec:\n  ...\n  workflows:\n    resource:\n      configure:\n      - apiVersion: platform.kratix.io/v1alpha1\n        kind: Pipeline\n        metadata:\n          name: slack-notify\n        spec:\n          rbac:\n            permissions:\n              - apiGroups: [""]\n                verbs: ["*"]\n                resources: ["secrets"]\n              - apiGroups: ["batch"]\n                verbs: ["get"]\n                resources: ["jobs"]\n                resourceName: ["my-job"]\n        ...\n'})}),"\n",(0,r.jsx)(t.h4,{id:"security-contexts-for-your-pods",children:"Security Contexts for Your Pods"}),"\n",(0,r.jsx)(t.p,{children:"By default, Kratix-owned pods have security contexts set with all the privileges they need. Any containers provided by a Promise author got NOTHING. I didn\u2019t say Kratix was a fair project."}),"\n",(0,r.jsx)(t.p,{children:"But we have just got a little fairer. You can now set security contexts for your own pods by specifying it in the container spec. Perhaps more excitingly, you can now specify a global default security context in the Kratix ConfigMap in the kratix-platform-system. Fire Configure and forget \ud83d\udd25"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:"apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: kratix\n  namespace: kratix-platform-system\ndata:\n  config: |\n    workflows:\n      defaultContainerSecurityContext:\n        # Security context fields, e.g.:\n        runAsNonRoot: false\n"})}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.em,{children:"I think it is much better"})," \ud83d\udc4d"]}),"\n",(0,r.jsx)(t.p,{children:"\u2014 Another actual customer quote."}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"more-control-over-backstage-with-kratix",children:"More control over Backstage (with Kratix)"}),"\n",(0,r.jsx)(t.p,{children:"If you know anything about Syntasso, it's that we love Backstage. We even did a\nwebinar with one of their product managers, the insightful Seve Kim."}),"\n",(0,r.jsx)(t.p,{children:"We believe Kratix and Backstage work so beautifully together that our SKE\noffering comes bundled with plugins that make managing Promises and Resources\nfrom Backstage a joyful experience. This month, we've given users even more\ncontrol in two ways."}),"\n",(0,r.jsx)(t.p,{children:'Promise authors can now provide an "info" field as part of the Promise spec that\nwill show up on your component page. This field supports markdown and has far\ntoo much space to let your users know whatever will make their day a little\neasier.'}),"\n",(0,r.jsx)(t.p,{children:'We have also made the first page of requesting a resource more configurable - we\nknow not every end user will understand what their "namespace" should be (even\nthough it is very important for knowing where we should put that resource!!) so\nyou can configure that to whatever makes sense for your team. You can even go\nfull abstraction and get rid of it entirely and pre-populate it with whatever\nyou want. The sky\'s the limit.'}),"\n","\n",(0,r.jsxs)("figure",{className:"diagram",children:[(0,r.jsx)("img",{className:"large",src:u,alt:"Screenshot of a Kratix Backstage entity"}),(0,r.jsx)("figcaption",{children:"Backstage and Kratix: Best of friends"})]}),"\n",(0,r.jsx)(t.h2,{id:"useful-kratix-resources",children:"Useful Kratix resources"}),"\n",(0,r.jsx)(t.p,{children:"You should find the following resources helpful for your Kratix exploration:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/syntasso/kratix",children:"Kratix Github"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://www.syntasso.io/",children:"Syntasso Kratix Enterprise homepage"})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Shout out to the team at Port (",(0,r.jsx)(t.a,{href:"http://getport.io/",children:"getport.io"}),") and Traefik\n(",(0,r.jsx)(t.a,{href:"http://traefik.io/",children:"traefik.io"}),") for their awesome product update blogs, which\nserved as inspiration for this post."]})]})}function g(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}}}]);