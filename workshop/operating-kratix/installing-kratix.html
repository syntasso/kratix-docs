<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-workshop/operating-kratix/installing-kratix" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Part 1: Installing Kratix | Kratix</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.kratix.io/workshop/operating-kratix/installing-kratix"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="kratix docs, kratix documentation"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Part 1: Installing Kratix | Kratix"><meta data-rh="true" name="description" content="Create a Platform cluster, install and configure Kratix"><meta data-rh="true" property="og:description" content="Create a Platform cluster, install and configure Kratix"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.kratix.io/workshop/operating-kratix/installing-kratix"><link data-rh="true" rel="alternate" href="https://docs.kratix.io/workshop/operating-kratix/installing-kratix" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.kratix.io/workshop/operating-kratix/installing-kratix" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://0T1XCKLOOH-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Operating Kratix","item":"https://docs.kratix.io/workshop/operating-kratix/intro"},{"@type":"ListItem","position":2,"name":"Part 1: Installing Kratix","item":"https://docs.kratix.io/workshop/operating-kratix/installing-kratix"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kratix RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kratix Atom Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-M8KNBP6C",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Kratix" href="/opensearch.xml">



<script src="https://app.termly.io/resource-blocker/6f1bb777-b1e3-40d9-a340-e80f132710f0?autoBlock=on"></script><link rel="stylesheet" href="/assets/css/styles.31a4a936.css">
<script src="/assets/js/runtime~main.b3e603c0.js" defer="defer"></script>
<script src="/assets/js/main.21f5d011.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M8KNBP6C" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://kratix.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/kratix-purple-io.svg" alt="Kratix Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/kratix-white-io.svg" alt="Kratix Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/workshop/intro">Workshops</a><a class="navbar__item navbar__link" href="/marketplace">Marketplace</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/ske">Enterprise</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/syntasso/kratix" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository">syntasso/kratix<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://kratixworkspace.slack.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Kratix Slack Workspace"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/workshop/intro"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/workshop/prerequisites/intro"><span title="Prerequisites" class="categoryLinkLabel_W154">Prerequisites</span></a><button aria-label="Collapse sidebar category &#x27;Prerequisites&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/prerequisites/setup"><span title="Installing the tools" class="linkLabel_WmDU">Installing the tools</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/prerequisites/create-clusters"><span title="Creating the clusters" class="linkLabel_WmDU">Creating the clusters</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/workshop/operating-kratix/intro"><span title="Operating Kratix" class="categoryLinkLabel_W154">Operating Kratix</span></a><button aria-label="Collapse sidebar category &#x27;Operating Kratix&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/workshop/operating-kratix/installing-kratix"><span title="Part 1: Installing Kratix" class="linkLabel_WmDU">Part 1: Installing Kratix</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/operating-kratix/installing-a-promise"><span title="Part 2: Installing a Promise" class="linkLabel_WmDU">Part 2: Installing a Promise</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/operating-kratix/compound-promises"><span title="Part 3: Using Compound Promises" class="linkLabel_WmDU">Part 3: Using Compound Promises</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/workshop/writing-a-promise/intro"><span title="Writing a Promise" class="categoryLinkLabel_W154">Writing a Promise</span></a><button aria-label="Collapse sidebar category &#x27;Writing a Promise&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/writing-a-promise/kratix-and-promises"><span title="Intro: Kratix and Promises" class="linkLabel_WmDU">Intro: Kratix and Promises</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/writing-a-promise/writing-your-first-promise"><span title="Part 1: Writing your first Promise" class="linkLabel_WmDU">Part 1: Writing your first Promise</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/writing-a-promise/promise-workflows"><span title="Part 2: Improving the Workflows" class="linkLabel_WmDU">Part 2: Improving the Workflows</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/writing-a-promise/secrets-and-state"><span title="Part 3: Accessing Secrets and storing state" class="linkLabel_WmDU">Part 3: Accessing Secrets and storing state</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/writing-a-promise/status"><span title="Part 4: Surfacing information via Status" class="linkLabel_WmDU">Part 4: Surfacing information via Status</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/workshop/writing-a-promise/compound-promise"><span title="Part 5: Making a Compound Promise" class="linkLabel_WmDU">Part 5: Making a Compound Promise</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/workshop/whats-next"><span title="What&#x27;s next?" class="linkLabel_WmDU">What&#x27;s next?</span></a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/workshop/operating-kratix/intro"><span>Operating Kratix</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Part 1: Installing Kratix</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Part 1: Installing Kratix</h1></header><p>This is Part 1 of <a class="" href="/workshop/operating-kratix/intro">a series</a> illustrating how Kratix works. <br>
üëâüèæ Next: <a class="" href="/workshop/operating-kratix/installing-a-promise">Installing a Promise</a></p>
<hr>
<p><strong>In this tutorial, you will:</strong></p>
<ul>
<li class=""><a href="#what-is-kratix" class="">Learn more about Kratix as a framework</a></li>
<li class=""><a href="#install-kratix" class="">Install and configure Kratix on a Kubernetes cluster</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-kratix">What is Kratix?<a href="#what-is-kratix" class="hash-link" aria-label="Direct link to What is Kratix?" title="Direct link to What is Kratix?" translate="no">‚Äã</a></h2>
<p>Kratix is a framework that enables co-creation of capabilities by providing a
clear contract between application and platform teams through the definition and
creation of &quot;Promises&quot;. Kratix focuses on empowering platform engineers to build
better platforms. The following video provides a high-level overview of Kratix:</p>
<div style="text-align:center"><iframe width="560" height="315" src="https://www.youtube.com/embed/mCeCMaeHg7I?si=Yfu_oBhrT4_Nu3YB" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe></div>
<br>
<p>For a more in-depth explanation of Kratix, check the <a class="" href="/">introduction to Kratix doc.</a></p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="hands-on-installing-kratix">Hands on: Installing Kratix<a href="#hands-on-installing-kratix" class="hash-link" aria-label="Direct link to Hands on: Installing Kratix" title="Direct link to Hands on: Installing Kratix" translate="no">‚Äã</a></h2>
<p>Before continuing, be sure to go back to the <a class="" href="/workshop/prerequisites/intro">prerequisites</a>
and follow the guide if you haven&#x27;t done so already.</p>
<p>You should also make sure you are currently in the <code>kratix</code> directory and have
the following environment variables set:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">PLATFORM</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;kind-platform&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">WORKER</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;kind-worker&quot;</span><br></span></code></pre></div></div>
<p>This guide will go through the following steps:</p>
<ol>
<li class=""><a href="#install-kratix" class="">Installing Kratix</a></li>
<li class=""><a href="#statestore-setup" class="">Create the Kratix State Store</a></li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="install-kratix">Install Kratix<a href="#install-kratix" class="hash-link" aria-label="Direct link to Install Kratix" title="Direct link to Install Kratix" translate="no">‚Äã</a></h3>
<p>To install Kratix, all you need is the Kratix distribution file.</p>
<p>Run the command below to deploy Kratix on the platform cluster:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:#36acaa">--context</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> apply </span><span class="token parameter variable" style="color:#36acaa">--filename</span><span class="token plain"> https://github.com/syntasso/kratix/releases/latest/download/kratix.yaml</span><br></span></code></pre></div></div>
<p>This command will create a Kratix deployment (in the <code>kratix-platform-system</code>
namespace). It will also install all the APIs (as Kubernetes CRDs) that Kratix
needs.</p>
<p>Verify that the Kratix CRDs are available:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:#36acaa">--context</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> get crds </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> kratix</span><br></span></code></pre></div></div>
<p>The above command will give an output similar to:</p>
<div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">bucketstatestores.platform.kratix.io   2023-01-22T11:53:15Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">destinations.platform.kratix.io        2023-01-22T11:53:15Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">gitstatestores.platform.kratix.io      2023-01-22T11:53:15Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">promisereleases.platform.kratix.io     2023-01-22T11:53:15Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">promises.platform.kratix.io            2023-01-22T11:53:15Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">workplacements.platform.kratix.io      2023-01-22T11:53:15Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">works.platform.kratix.io               2023-01-22T11:53:15Z</span><br></span></code></pre></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>What are CRDs?</summary><div><div class="collapsibleContent_i85q"><p>A Custom Resource (CR) is an extension of the Kubernetes API that is not
necessarily available in a default Kubernetes installation. It represents a
customisation of a particular Kubernetes installation.</p><p>A Custom Resource Definition (CRD) is the object you create to teach your
Kubernetes cluster about this new API.</p><p>Kratix comes with multiple API extensions (CRDs), as you can see above.</p><p>Check the Kubernetes documentation for further details on <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/" target="_blank" rel="noopener noreferrer" class="">Custom
Resources</a>
and <a href="https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/" target="_blank" rel="noopener noreferrer" class="">Custom Resources
Definition</a>.</p></div></div></details>
<p>Verify the Kratix deployment:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:#36acaa">--context</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> get deployments </span><span class="token parameter variable" style="color:#36acaa">--namespace</span><span class="token plain"> kratix-platform-system</span><br></span></code></pre></div></div>
<p>The above command will give an output similar to:</p>
<div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">NAME                                 READY   UP-TO-DATE   AVAILABLE   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">kratix-platform-controller-manager   1/1     1            1           1h</span><br></span></code></pre></div></div>
<p>You can now tell Kratix which repositories it will use to deploy and manage the
workloads.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="statestore-setup">Create the Kratix State Store<a href="#statestore-setup" class="hash-link" aria-label="Direct link to Create the Kratix State Store" title="Direct link to Create the Kratix State Store" translate="no">‚Äã</a></h3>
<p>The State Store represents the various backing storage options to which Kratix
can write. When registering a Worker cluster with Kratix, you will need to
specify the State Store you intend to use. Kratix will then write to the
specified State Store when scheduling workloads for deployment on that cluster.</p>
<p>Create a new State Store that points to the MinIO bucket created in the
<a class="" href="/workshop/prerequisites/create-clusters#minio-as-the-gitops-repository">prerequisites</a>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;&lt; EOF </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> kubectl </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">context $PLATFORM apply </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">f </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> platform.kratix.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BucketStateStore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">endpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> minio.kratix</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">platform</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system.svc.cluster.local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">insecure</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">bucketName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kratix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">secretRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> minio</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre></div></div>
<p>The above command will give an output similar to:</p>
<div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">bucketstatestore.platform.kratix.io/default created</span><br></span></code></pre></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>More on the Kratix State Store</summary><div><div class="collapsibleContent_i85q"><p>The State Store document contains the configuration needed to access the actual
backing storage.</p><p>In the example above, you created a new <code>BucketStateStore</code> as a MinIO bucket
has been provisioned for storage, but you could use any other S3-compatible
storage like Amazon S3 and Google Cloud Storage.</p><p>The <code>spec</code> includes the details needed to access that specific kind of State
Store. On the example above, you configured the <code>endpoint</code> to the cluster
address of the MinIO server you deployed on the platform cluster. Since MinIO
is running in-cluster and without TLS enabled, it is necessary to set <code>insecure</code>
to true.</p><p>You can see the MinIO service on the <code>kratix-platform-system</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:#36acaa">--context</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--namespace</span><span class="token plain"> kratix-platform-system get </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> minio</span><br></span></code></pre></div></div><p>The above command will give an output similar to:</p><div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">NAME    TYPE       CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">minio   NodePort   10.96.96.166   &lt;none&gt;        80:31337/TCP   17h</span><br></span></code></pre></div></div><p><code>bucketName</code> refers to the actual bucket on the MinIO server. The bucket needs
to exist prior to Kratix trying to use it. As a part of setting up MinIO you
ran a Job to create the base <code>kratix</code> bucket.</p><p>Finally, <code>secretRef</code> points to a <a href="https://kubernetes.io/docs/concepts/configuration/secret/" target="_blank" rel="noopener noreferrer" class="">Secret</a>,
in the same namespace as the State Store, containing the credentials to access
the store. For <code>BucketStateStore</code>, Kratix expects to find an <code>accessKeyID</code> and
a <code>secretAccessKey</code> when resolving the secret. As part of the MinIO deployment,
you also created the necessary Secret:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:#36acaa">--context</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> describe secret minio-credentials</span><br></span></code></pre></div></div><p>The above command will give an output similar to:</p><div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">Name:         minio-credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">Namespace:    default</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">Labels:       &lt;none&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">Annotations:  &lt;none&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token output"></span><br></span><span class="token-line" style="color:#393A34"><span class="token output">Type:  Opaque</span><br></span><span class="token-line" style="color:#393A34"><span class="token output"></span><br></span><span class="token-line" style="color:#393A34"><span class="token output">Data</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">====</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">accessKeyID:      10 bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">secretAccessKey:  10 bytes</span><br></span></code></pre></div></div><p>For further details on State Stores, check the <a class="" href="/main/reference/statestore/intro">State Store documentation
page</a></p></div></div></details>
<p>At this point, your environment looks like this (with a few components omitted
for clarity):</p>
<!-- -->
<figure class="diagram"><img class="medium" src="/assets/images/topology-01-adbaee49a075166e35fb470d580c7686.png" alt="Deployed resources with State Store"><figcaption>Current environment: with Bucket State Store</figcaption></figure>
<p>Although Kratix now knows about the State Store, it&#x27;s not currently aware of any
place that the workloads can actually run: there&#x27;s no <em>Destination</em> registered
with the Platform cluster.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="destination-setup">Register the Worker cluster as a Destination<a href="#destination-setup" class="hash-link" aria-label="Direct link to Register the Worker cluster as a Destination" title="Direct link to Register the Worker cluster as a Destination" translate="no">‚Äã</a></h3>
<p>In Kratix terms, a <em>Destination</em> is any system <em>converging</em> on the state
declared by Kratix.</p>
<p>You have already created a worker cluster as part of the prerequisites. You will
now register this cluster as a Destination.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Note that the order of operations here is not important; you could have
registered the worker as a Destination first, and then created the Worker
cluster. Kratix would have scheduled to the State Store path representing the
Worker cluster, and the state would eventually be applied to a Worker.</p></div></div>
<p>It&#x27;s important to note that Kratix makes no assumptions about the Destinations
hemselves. Although Destinations are often Kubernetes clusters, they may be any
system that can interpret whatever state is being declared as desired.</p>
<p>For example, you may write a Promise that tells Kratix to declare Terraform
plans as desired state, and a Destination may be a system applying these
plans as they are written to the State Store.</p>
<p>To register the worker cluster, create a <code>Destination</code> object on your Platform
cluster:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;&lt;EOF </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> kubectl </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">context $PLATFORM apply </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">filename </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> platform.kratix.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Destination</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">stateStoreRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BucketStateStore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre></div></div>
<p>The above command will give an output similar to:</p>
<div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">destinations.platform.kratix.io/worker-cluster created</span><br></span></code></pre></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Destinations in detail</summary><div><div class="collapsibleContent_i85q"><p>The Kratix Destination resource is the representation of a system that workloads
can be scheduled to. Those systems are usually other Kubernetes clusters, but
can be any system that can interpret the declared state.</p><p>The only required field is <code>spec.stateStoreRef</code>, which contains a reference to a
State Store present in the platform. In this example, it points to the <code>default</code>
object you created on the previous step. The <code>spec.StateStoreRef.kind</code> specifies
the kind of State Store being used by this Destination.</p><p>This means that different Destinations can use different backing storage. For
example, you can have a set of Destinations backed by Git, while another set of
Destinations can be backed by a Bucket. Further configuration options pertaining
to paths are also available both in the <a class="" href="/main/reference/statestore/intro">State Store</a>
and the <a class="" href="/main/reference/destinations/intro">Destination object</a>.</p></div></div></details>
<p>With the Destinations registered, Kratix now has a place where it can run
workloads!</p>
<p>In fact, as soon as a new Destination is registered, Kratix writes a test
document to the State Store. You can use this test to validate that the entire
system is wired up correctly.</p>
<p>First, check the MinIO <code>kratix</code> bucket:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mc</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> kind</span><br></span></code></pre></div></div>
<p>The above command will give an output similar to:</p>
<div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">[2024-01-01 15:00:00 GMT]   116B STANDARD kratix/worker-cluster/dependencies/kratix-canary-namespace.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">[2024-01-01 15:00:00 GMT]   206B STANDARD kratix/worker-cluster/resources/kratix-canary-configmap.yaml</span><br></span></code></pre></div></div>
<p>You can also inspect the contents of the test documents. For example, take the
<code>kratix-canary-namespace.yaml</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mc</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> kind/kratix/worker-cluster/dependencies/kratix-canary-namespace.yaml</span><br></span></code></pre></div></div>
<p>The above command will give an output similar to:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Namespace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">creationTimestamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kratix</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">worker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">status</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Since your Worker cluster is already listening to this path within the bucket,
you should see Flux automatically creating the namespace on the Worker cluster
as soon as it detects the change:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:#36acaa">--context</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$WORKER</span><span class="token plain"> get namespace kratix-worker-system</span><br></span></code></pre></div></div>
<p>It may take a few minutes, but the above command will give an output similar to:</p>
<div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">NAME                   STATUS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">kratix-worker-system   Active   1m</span><br></span></code></pre></div></div>
<p>You environment now looks like this:</p>
<!-- -->
<figure class="diagram"><img class="large" src="/assets/images/topology-02-bb443c0c094a51cf8aa5f6b2527b704b.png" alt="Deployed resources with Destination"><figcaption>Flux reconciled and created the test resources</figcaption></figure>
<p>Kratix is now fully installed and configured, and can start deploying Promises
and <a class="" href="/main/reference/resources/intro">Resources</a> to your clusters.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">‚Äã</a></h2>
<p>Your platform is ready to receive Promises! Well done!</p>
<p>To recap the steps you took:</p>
<ol>
<li class="">‚úÖ¬†¬†Installed Kratix on the platform cluster</li>
<li class="">‚úÖ¬†¬†Told Kratix about the MinIO bucket, as a Bucket State Store</li>
<li class="">‚úÖ¬†¬†Told Kratix about the worker cluster, as a Destination</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-congratulations">üéâ Congratulations<a href="#-congratulations" class="hash-link" aria-label="Direct link to üéâ Congratulations" title="Direct link to üéâ Congratulations" translate="no">‚Äã</a></h2>
<p>‚úÖ Kratix is now installed and configured! <br>
üëâüèæ <a class="" href="/workshop/operating-kratix/installing-a-promise">Next you will deploy your first Promise</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/syntasso/kratix-docs/tree/main/docs/workshop/operating-kratix/01-installing-kratix.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/workshop/operating-kratix/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Operating Kratix</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/workshop/operating-kratix/installing-a-promise"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Part 2: Installing a Promise</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-kratix" class="table-of-contents__link toc-highlight">What is Kratix?</a></li><li><a href="#hands-on-installing-kratix" class="table-of-contents__link toc-highlight">Hands on: Installing Kratix</a><ul><li><a href="#install-kratix" class="table-of-contents__link toc-highlight">Install Kratix</a></li><li><a href="#statestore-setup" class="table-of-contents__link toc-highlight">Create the Kratix State Store</a></li><li><a href="#destination-setup" class="table-of-contents__link toc-highlight">Register the Worker cluster as a Destination</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#-congratulations" class="table-of-contents__link toc-highlight">üéâ Congratulations</a></li></ul></div></div></div></div></main></div></div></div><img id="docs-scarf-pixel" style="height:1px;width:1px" referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=2f7703a4-9013-4c6f-b09e-894a5f3f42d6"><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Getting Started</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kratix.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kratix<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/syntasso/kratix" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://syntasso.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Syntasso<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://app.termly.io/policy-viewer/policy.html?policyUUID=904a9e3b-575b-4156-8377-ed6ec8829d77" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2026 Syntasso Limited. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>