<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-workshop/part-ii/schedule-promise">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Schedule Promises | Kratix</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kratix.io/docs/workshop/schedule-promise"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="kratix docs, kratix documentation"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Schedule Promises | Kratix"><meta data-rh="true" name="description" content="Intentionally schedule where to provision a Promise"><meta data-rh="true" property="og:description" content="Intentionally schedule where to provision a Promise"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kratix.io/docs/workshop/schedule-promise"><link data-rh="true" rel="alternate" href="https://kratix.io/docs/workshop/schedule-promise" hreflang="en"><link data-rh="true" rel="alternate" href="https://kratix.io/docs/workshop/schedule-promise" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://0T1XCKLOOH-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kratix RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kratix Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-88SJVH10M9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-88SJVH10M9",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Kratix" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.6d5f032a.css">
<link rel="preload" href="/assets/js/runtime~main.21129bfd.js" as="script">
<link rel="preload" href="/assets/js/main.6b807c86.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kratix_k_logo.png" alt="Kratix Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/kratix_k_logo.png" alt="Kratix Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Kratix</b></a><a class="navbar__item navbar__link" href="/docs/main/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/workshop/intro">Workshop</a><a class="navbar__item navbar__link" href="/marketplace">Marketplace</a><a class="navbar__item navbar__link" href="/docs/main/community">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/syntasso/kratix" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/workshop/intro">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/workshop/setup">Pre-requisites</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/workshop/part-i/intro">Part I</a><button aria-label="Toggle the collapsible sidebar category &#x27;Part I&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workshop/installing-kratix">Installing Kratix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workshop/installing-a-promise">Installing a Promise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workshop/multiple-promises">Using Compound Promises</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/workshop/part-ii/intro">Part II</a><button aria-label="Toggle the collapsible sidebar category &#x27;Part II&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workshop/creating-an-api">Creating your first service API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workshop/service-on-demand">Delivering your service on demand</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workshop/shared-dependencies">Extracting shared dependencies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/workshop/schedule-promise">Schedule Promises</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/workshop/update-status">Update the Resource Request status</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/workshop/whats-next">What&#x27;s next?</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/workshop/part-ii/intro"><span itemprop="name">Part II</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Schedule Promises</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Schedule Promises</h1></header><p>This is Part 2 of <a href="/docs/workshop/intro">a series</a> illustrating how Kratix works. <br>
üëàüèæ<!-- -->¬†<!-- -->¬†<!-- --> Previous: <a href="/docs/workshop/shared-dependencies">Extract shared dependencies</a><br>
üëâüèæ<!-- -->¬†<!-- -->¬†<!-- --> Next: <a href="/docs/workshop/update-status">Update the Resource Request status</a></p><hr><p><strong>In this tutorial, you will</strong></p><ul><li><a href="#understand-scheduling">Understand Promise scheduling</a></li><li><a href="#dependency-scheduling">Schedule Promises to specific clusters</a></li><li><a href="#rr-scheduling">Schedule Promise Resource Requests to specific clusters</a></li><li><a href="#cleanup">Clean up environment</a></li><li><a href="#summary">Summary</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisite-setup">Prerequisite setup<a href="#prerequisite-setup" class="hash-link" aria-label="Direct link to Prerequisite setup" title="Direct link to Prerequisite setup">‚Äã</a></h3><p>Following the previous step of this tutorial, you should now
have a deployment of both Kratix and MinIO running on your Platform cluster
with no installed Promises.</p><p>You should also have two environment variables, <code>PLATFORM</code> and <code>WORKER</code>.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Verify the current state of your installation</summary><div><div class="collapsibleContent_i85q">Run:<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> get deployments --namespace kratix-platform-system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above command will give an output similar to:</p><div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">NAME                                 READY   UP-TO-DATE   AVAILABLE   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">kratix-platform-controller-manager   1/1     1            1           1h</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">minio                                1/1     1            1           1h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should also have a State Store created and configured to point to the
<code>kratix</code> bucket on MinIO. Verify the <code>bucketstatestores</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> get bucketstatestores.platform.kratix.io</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above command will give an output similar to:</p><div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">NAME          AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">minio-store   1h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Verify there are no existing Promises:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> get promises</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Verify your cluster environment variables are set:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">env</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;PLATFORM\|WORKER&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>which should result in:</p><div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">WORKER=kind-worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">PLATFORM=kind-platform</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p>If you are are not continuing from the previous section, or your outputs do not align with the validation, please refer back to
<a href="/docs/workshop/installing-kratix">Installing Kratix</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="understand-scheduling">Promise scheduling<a href="#understand-scheduling" class="hash-link" aria-label="Direct link to Promise scheduling" title="Direct link to Promise scheduling">‚Äã</a></h2><p>So far you have built an ECK Promise that will allow us to deliver ECK instances on-demand to the
application developers.</p><p>When developing locally you have been using a single worker cluster, which Kratix has been scheduling
everything to by default. In reality, the likely hood is that an organisation will have multiple worker
clusters, potentially spread out across multiple zones, regions, and cloud-providers. Each individual cluster
might be designed for a particular purpose, e.g. clusters that contain GPUs for AI intensive workloads, or
edge clusters that are designed to run particular applications close the intended consumers. However it is
common to want some software deployed on many of these speciality clusters.</p><p>This section will focus on how Kratix has native support for flexible multi-cluster scheduling.</p><p>Kratix uses a label-based approach to scheduling what cluster resources go to, similar to how Kubernetes works
when <a href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/" target="_blank" rel="noopener noreferrer">scheduling pods</a>.
When you create a cluster resource in Kratix you assign a set of labels to it. Kratix also manages additions
to these labels as your platform may evolve.</p><p>Use the following command to inspect at what labels the worker cluster currently has:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> get clusters --show-labels</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should see output like:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NAME               AGE   LABELS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-cluster-1    1h   -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The cluster currently has no labels applied. So far the Promise you have written has taken no opinion
about what sort of clusters it should schedule work to, meaning that a Cluster with no labels is
acceptable place to schedule work to.</p><p>Imagine you have decided that it is not appropriate for ECK resources to be deployed to certain
clusters, so you have decided to restrict the ECK Promise and its Resource Requests to only
development clusters. You have also decided that development clusters will be labelled in
Kratix with the <code>environment=dev</code> label. In order to get the ECK Promise to only schedule
to clusters with these labels you need to update the Promise.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dependency-scheduling">Schedule Promises to specific clusters<a href="#dependency-scheduling" class="hash-link" aria-label="Direct link to Schedule Promises to specific clusters" title="Direct link to Schedule Promises to specific clusters">‚Äã</a></h2><p>Inside of a Promise you can define what clusters the Promise should schedule resources
to by specifying the <code>clusterSelector</code> field.</p><p>This field contains a map of key values that are all the labels that must be matched to
a cluster. Update the Promise to contain the new <code>clusterSelector</code> field shown below:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">jenkins-promise.yaml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> platform.kratix.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Promise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> elastic</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">clusterSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="apply-the-promise">Apply the Promise<a href="#apply-the-promise" class="hash-link" aria-label="Direct link to Apply the Promise" title="Direct link to Apply the Promise">‚Äã</a></h3><p>The Promise is now setup to only schedule to clusters with the matching label. Create
the Promise in Kubernetes:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> create --filename promise.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-the-resource-are-not-scheduled">Verify the resource are not scheduled<a href="#verify-the-resource-are-not-scheduled" class="hash-link" aria-label="Direct link to Verify the resource are not scheduled" title="Direct link to Verify the resource are not scheduled">‚Äã</a></h3><p>The cluster as it is right now does not contain the <code>environment: dev</code> label, so nothing will get scheduled
to the worker cluster. When you get the pods on the worker, you will not see the requested ECK resources:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$WORKER</span><span class="token plain"> get pods -n elastic-system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Whats happening is that Kratix is querying what Clusters are available and is
searching for a cluster with the matching labels, because no cluster is found the
resource fails to get scheduled.</p><figure class="diagram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 746.247 443.46" class="small"><defs><style>@font-face{font-family:&quot;Virgil&quot;;src:url(https://excalidraw.com/Virgil.woff2)}@font-face{font-family:&quot;Cascadia&quot;;src:url(https://excalidraw.com/Cascadia.woff2)}</style></defs><path fill="#fff" d="M0 0h746.247v443.46H0z"></path><g mask="url(#mask-A3e7VfGYJxMTku5UvZeKt)" stroke-linecap="round"><path d="M94.58 243.161c37.69-.19 188.46-.96 226.15-1.16m-226.15 1.16c37.69-.19 188.46-.96 226.15-1.16" stroke="#000" fill="none"></path><path d="m320.73 242.001-13.56 6.41-.06-12.68 13.62 6.27" stroke-width="0" fill-rule="evenodd"></path><path d="M320.73 242.001c-3.79 1.8-7.58 3.59-13.56 6.41m13.56-6.41-13.56 6.41m0 0c-.01-3.05-.03-6.1-.06-12.68m.06 12.68c-.02-5.04-.05-10.08-.06-12.68m0 0c3.95 1.82 7.91 3.64 13.62 6.27m-13.62-6.27c4.08 1.88 8.16 3.76 13.62 6.27m0 0s0 0 0 0m0 0s0 0 0 0" stroke="#000" fill="none"></path></g><mask id="mask-A3e7VfGYJxMTku5UvZeKt"><path fill="#fff" d="M0 0h420.734v344.317H0z"></path><path d="M152.409 232.583h110.496v20H152.409z"></path></mask><text x="55.248" font-family="Virgil, Segoe UI Emoji" font-size="16" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(152.409 232.583)">install promise</text><g stroke-linecap="round"><path d="M42.148 195.576s0 0 0 0m0 0s0 0 0 0m-5.62 10.1c4.9-.53 4.15-5.72 12.06-10.55m-10.86 11.85c2.8-3.3 4.67-5.33 10.02-13.24m-7.05 19.53c5.37-9.84 7.84-13.44 14.31-18.88m-16.19 16.38c3.82-3.83 7.23-7.68 14.25-16.47m-12.23 24.65c1.58-6.98 5.98-14.71 15.67-22.98m-16.65 21.3c6.08-8.39 13.92-14.86 18.48-21.51m-14.08 22.85c4.02-7.09 12.84-15.86 17.84-22.39m-20.56 23.41c8.7-9.25 16.4-17.2 19.25-21.51m-17.13 22.74c7.31-8.11 16.01-17.13 22.93-21.91m-20.54 22.79c6.29-7.97 11.97-14.81 19.16-22.86m-16.17 27.26c5.04-6.84 9.74-10.75 16.08-23.07m-16.88 20.22c5.5-4.36 12.29-11.95 17.96-20.35m-12.68 23.54c3.46-7.59 8.5-10.23 15.84-17.04m-16.1 14.61c4.67-2.75 8.41-8.36 16.04-17.04" stroke="#7950f2" stroke-width="0.5" fill="none"></path><path d="M52.678 193.676c3.36.13 8.64 1.81 11.18 4.2 2.54 2.4 3.75 7.05 4.06 10.17.32 3.11-.12 5.99-2.18 8.51-2.06 2.51-6.98 5.59-10.19 6.56-3.21.98-6.11.51-9.09-.7-2.98-1.21-7.08-3.62-8.8-6.54-1.73-2.91-2.28-7.6-1.55-10.95.72-3.36 2.76-7.14 5.89-9.18s10.37-2.76 12.9-3.06c2.54-.29 2.13.89 2.32 1.29m-11.63-1.08c3.2-1.15 8.91-.66 12.01.77 3.09 1.44 4.94 4.92 6.56 7.86 1.62 2.95 3.36 6.8 3.17 9.8-.2 3.01-1.6 6.16-4.33 8.22-2.73 2.06-8.51 4.07-12.03 4.15-3.51.09-6.86-1.45-9.07-3.62-2.22-2.17-3.46-6.24-4.21-9.4-.75-3.17-1.62-7.09-.29-9.6 1.33-2.52 6.75-4.31 8.26-5.49 1.5-1.18.68-1.47.78-1.6" stroke="#495057" fill="none"></path></g><g fill-rule="evenodd" stroke-linecap="round"><path d="M41.328 224.495s0 0 0 0m0 0s0 0 0 0m-5.96 10.42c3.42-2.4 6.36-4.52 10.55-11.67m-9.46 12.73c2.86-3.92 6.5-6.69 9.98-11.65m-12.35 19.85c3.14-5.15 10.21-10.25 16.14-21.42m-17.26 23.83c6.96-8.83 12.8-15.53 19.91-23.01m-23.47 28.91c8.86-5.64 13.77-12.97 29.08-31.22m-26.81 33.03c8.74-12.42 20.39-23.51 27.81-31.64m-28.74 37.76c14.17-14.3 23.3-28.73 30.41-35.58m-29.4 34.71c6.78-8.23 13.88-15.11 30.51-33.63m-32.53 38.43c13.5-12.67 28.78-27.7 32.43-34.09m-29.76 36.74c10.13-12.61 20.51-24.54 31.41-36.75m-27.62 36.72c7.44-9.09 16.29-14.41 27.82-36.02m-28.11 37.05c7.58-9.76 17.92-20.44 30.47-36.18m-27.65 36.31c8.11-5.79 14.72-13.45 30.05-31.57m-30.58 33.36c7.4-8.15 14.6-16.87 31.61-34.62m-26.19 37.82c7.64-14.09 20.63-25.75 26.28-34.64m-27.22 33.63c4.8-7.46 10.85-12.93 26.52-32.18m-21.31 32.74c9.79-9.31 17.89-23.11 23.17-30m-23.94 29.8c6.79-7.85 12.19-13.23 25.62-28.48m-20.9 28.44c10.1-9.28 14.14-15.09 22.93-24.98m-21.62 25.02c6.96-9.27 14.71-19.41 21.02-23.34m-16.17 21.48c3.69-1.51 8.84-5.79 14.69-16.97m-13.57 17.82c3.58-3.54 7.93-8.24 14.88-17.3m-7.57 16.41c.82-5.8 5-9.67 8.81-11.01m-10.43 11.19c2.76-3.4 4.11-5.81 10.28-11.91" stroke="#7950f2" stroke-width="0.5" fill="none"></path><path d="M52.048 224.375c1.83-.23 6.42-7.65 9.98-.5 3.56 7.15 16.49 36.29 11.4 43.4-5.1 7.11-36.83 6.25-41.99-.74-5.15-6.99 7.85-34.05 11.06-41.21 3.21-7.16 6.77-1.79 8.2-1.75m-.02-.26c1.73-.14 6.54-5.21 10.26 1.83 3.72 7.03 16.91 33.27 12.07 40.38-4.83 7.12-35.84 8.87-41.08 2.32-5.24-6.55 6.4-34.62 9.66-41.63 3.26-7.01 8.29-.21 9.9-.44" stroke="#495057" fill="none"></path></g><path d="M332.092 71.9v337.06m0-337.06v337.06" stroke="#000" fill="none" stroke-linecap="round"></path><text x="34.471" font-family="Virgil, Segoe UI Emoji" font-size="16.197" fill="#5f3dc4" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(10 284.006)">Platform</text><text x="34.471" y="20.246" font-family="Virgil, Segoe UI Emoji" font-size="16.197" fill="#5f3dc4" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(10 284.006)">Engineer</text><g stroke-linecap="round"><path d="m615.237 20.016 3.769-.07 1.428.443.497 1.4.66 35.345-.444 1.418-1.41.497-5.188-.374-.497-1.4-.66-35.344.444-1.419 1.4-.496" stroke-width="0" fill="#7950f2"></path><path d="m615.237 20.016 3.769-.07m-3.77.07 3.77-.07m0 0c1.26-.024 1.901.594 1.925 1.844m-1.925-1.845c1.26-.023 1.901.595 1.925 1.845m0 0 .66 35.344m-.66-35.344.66 35.344m0 0c.023 1.25-.595 1.891-1.855 1.915m1.855-1.915c.023 1.25-.595 1.891-1.855 1.915m0 0-3.769.07m3.77-.07-3.77.07m0 0c-1.25.023-1.891-.595-1.915-1.845m1.915 1.845c-1.25.023-1.891-.595-1.915-1.845m0 0-.66-35.343m.66 35.343-.66-35.343m0 0c-.023-1.25.595-1.892 1.845-1.915m-1.845 1.915c-.023-1.25.595-1.892 1.845-1.915" stroke="transparent" fill="none"></path></g><g stroke-linecap="round"><path d="m646.159 19.673 2.87 2.445.776 1.278-.556 1.378-29.701 34.877-1.272.77-1.386-.564-3.639-3.716.556-1.378 29.701-34.877 1.272-.77 1.379.557" stroke-width="0" fill="#7950f2"></path><path d="M646.159 19.673c.715.61 1.43 1.22 2.87 2.445m-2.87-2.445 2.87 2.445m0 0c.96.816 1.03 1.705.22 2.656m-.22-2.656c.96.816 1.03 1.705.22 2.656m0 0-29.701 34.877m29.7-34.877-29.7 34.877m0 0c-.81.952-1.699 1.023-2.658.206m2.658-.206c-.81.952-1.699 1.023-2.658.206m0 0-2.87-2.444m2.87 2.444-2.87-2.444m0 0c-.952-.81-1.023-1.699-.213-2.65m.213 2.65c-.952-.81-1.023-1.699-.213-2.65m0 0 29.701-34.877m-29.7 34.877 29.7-34.877m0 0c.81-.952 1.699-1.023 2.65-.213m-2.65.213c.81-.952 1.699-1.023 2.65-.213" stroke="transparent" fill="none"></path></g><g stroke-linecap="round"><path d="m650.839 57.165-2.855 2.462-1.382.572-1.277-.761-16.022-18.575-.565-1.375.762-1.29 4.236-3.02 1.277.76 16.022 18.575.565 1.375-.761 1.277" stroke-width="0" fill="#7950f2"></path><path d="m650.839 57.165-2.855 2.462m2.855-2.462-2.855 2.462m0 0c-.954.823-1.843.757-2.659-.19m2.66.19c-.955.823-1.844.757-2.66-.19m0 0-16.022-18.574m16.022 18.575-16.022-18.575m0 0c-.823-.954-.757-1.843.197-2.666m-.197 2.666c-.823-.954-.757-1.843.197-2.666m0 0 2.855-2.462m-2.855 2.462 2.855-2.462m0 0c.946-.816 1.835-.75 2.658.203m-2.658-.203c.946-.816 1.835-.75 2.658.203m0 0 16.022 18.575m-16.022-18.575 16.022 18.575m0 0c.816.947.75 1.835-.196 2.652m.196-2.652c.816.947.75 1.835-.196 2.652" stroke="transparent" fill="none"></path></g><g stroke-linecap="round"><path d="M621.262 22.455c.008.26-.003.53-.034.792a5.093 5.093 0 0 1-.165.776 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.184.176-.38.332-.585.479a4.517 4.517 0 0 1-.649.351 4.444 4.444 0 0 1-.702.233 3.611 3.611 0 0 1-.728.094c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.646 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.579c.041-.261.093-.523.164-.776.082-.252.174-.506.286-.74.123-.223.256-.458.399-.663.153-.205.327-.4.501-.576.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.242.042.484.104.716.187.223.083.457.185.67.308.215.123.42.277.616.44a4.6 4.6 0 0 1 .538.543 4.5 4.5 0 0 1 .774 1.355c.088.248.167.505.215.764.049.258.072.658.086.787.014.13.006-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M621.262 22.455c.008.26-.003.53-.034.792a5.093 5.093 0 0 1-.165.776 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.184.176-.38.332-.585.479a4.517 4.517 0 0 1-.649.351 4.444 4.444 0 0 1-.702.233 3.611 3.611 0 0 1-.728.094c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.646 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.579c.041-.261.093-.523.164-.776.082-.252.174-.506.286-.74.123-.223.256-.458.399-.663.153-.205.327-.4.501-.576.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.242.042.484.104.716.187.223.083.457.185.67.308.215.123.42.277.616.44a4.6 4.6 0 0 1 .538.543 4.5 4.5 0 0 1 .774 1.355c.088.248.167.505.215.764.049.258.072.658.086.787.014.13.006-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><g stroke-linecap="round"><path d="M622.223 54.704c.008.26-.003.53-.035.791a5.093 5.093 0 0 1-.164.776 4.223 4.223 0 0 1-.287.73 4.594 4.594 0 0 1-.398.673 4.6 4.6 0 0 1-.502.577c-.184.176-.379.332-.584.479a4.517 4.517 0 0 1-.65.351 4.444 4.444 0 0 1-.702.233 3.611 3.611 0 0 1-.727.094c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.615-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.44-.646 5.203 5.203 0 0 1-.334-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.052-1.579c.042-.261.093-.523.165-.776.082-.252.174-.505.286-.74.123-.223.255-.458.399-.663.153-.205.327-.4.501-.576.184-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.241.042.483.104.716.187.223.083.456.185.67.308a4.6 4.6 0 0 1 1.153.983 4.5 4.5 0 0 1 .775 1.355c.088.248.166.505.215.764.048.258.071.658.086.788.014.13.005-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M622.223 54.704c.008.26-.003.53-.035.791a5.093 5.093 0 0 1-.164.776 4.223 4.223 0 0 1-.287.73 4.594 4.594 0 0 1-.398.673 4.6 4.6 0 0 1-.502.577c-.184.176-.379.332-.584.479a4.517 4.517 0 0 1-.65.351 4.444 4.444 0 0 1-.702.233 3.611 3.611 0 0 1-.727.094c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.615-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.44-.646 5.203 5.203 0 0 1-.334-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.052-1.579c.042-.261.093-.523.165-.776.082-.252.174-.505.286-.74.123-.223.255-.458.399-.663.153-.205.327-.4.501-.576.184-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.241.042.483.104.716.187.223.083.456.185.67.308a4.6 4.6 0 0 1 1.153.983 4.5 4.5 0 0 1 .775 1.355c.088.248.166.505.215.764.048.258.071.658.086.788.014.13.005-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><g stroke-linecap="round"><path d="M636.69 40.607c.008.26-.003.53-.034.791a5.093 5.093 0 0 1-.165.776 3.555 3.555 0 0 1-.286.73 5.59 5.59 0 0 1-.389.673 4.6 4.6 0 0 1-.501.576c-.174.176-.37.333-.575.48a4.067 4.067 0 0 1-.649.35 4.653 4.653 0 0 1-.692.234 3.611 3.611 0 0 1-.728.093c-.24.008-.48-.004-.722-.046a3.97 3.97 0 0 1-1.377-.495 5.303 5.303 0 0 1-.614-.44 4.52 4.52 0 0 1-.97-1.19 4.223 4.223 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.579c.041-.261.093-.523.164-.776a4.5 4.5 0 0 1 .685-1.403c.143-.204.317-.4.491-.576a3.97 3.97 0 0 1 1.926-1.063c.239-.058.478-.086.718-.094.24-.008.49.004.732.046.232.043.474.105.707.187a3.741 3.741 0 0 1 1.275.749 4.6 4.6 0 0 1 .538.543c.156.195.303.42.43.636.138.226.246.472.334.72.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M636.69 40.607c.008.26-.003.53-.034.791a5.093 5.093 0 0 1-.165.776 3.555 3.555 0 0 1-.286.73 5.59 5.59 0 0 1-.389.673 4.6 4.6 0 0 1-.501.576c-.174.176-.37.333-.575.48a4.067 4.067 0 0 1-.649.35 4.653 4.653 0 0 1-.692.234 3.611 3.611 0 0 1-.728.093c-.24.008-.48-.004-.722-.046a3.97 3.97 0 0 1-1.377-.495 5.303 5.303 0 0 1-.614-.44 4.52 4.52 0 0 1-.97-1.19 4.223 4.223 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.579c.041-.261.093-.523.164-.776a4.5 4.5 0 0 1 .685-1.403c.143-.204.317-.4.491-.576a3.97 3.97 0 0 1 1.926-1.063c.239-.058.478-.086.718-.094.24-.008.49.004.732.046.232.043.474.105.707.187a3.741 3.741 0 0 1 1.275.749 4.6 4.6 0 0 1 .538.543c.156.195.303.42.43.636.138.226.246.472.334.72.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><g stroke-linecap="round"><path d="M649.906 23.257c.008.26-.003.53-.034.791a5.093 5.093 0 0 1-.165.776 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.185.176-.38.332-.585.48a4.517 4.517 0 0 1-.649.35 4.444 4.444 0 0 1-.703.234 3.611 3.611 0 0 1-.727.093c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.645 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.58c.041-.261.093-.523.164-.775.082-.253.174-.506.286-.74.123-.224.256-.459.399-.663.153-.206.327-.401.501-.577.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.241.042.484.105.716.187.223.083.457.185.67.308.215.123.42.277.616.44a4.6 4.6 0 0 1 .537.543 4.5 4.5 0 0 1 .775 1.356c.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M649.906 23.257c.008.26-.003.53-.034.791a5.093 5.093 0 0 1-.165.776 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.185.176-.38.332-.585.48a4.517 4.517 0 0 1-.649.35 4.444 4.444 0 0 1-.703.234 3.611 3.611 0 0 1-.727.093c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.645 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.58c.041-.261.093-.523.164-.775.082-.253.174-.506.286-.74.123-.224.256-.459.399-.663.153-.206.327-.401.501-.577.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.241.042.484.105.716.187.223.083.457.185.67.308.215.123.42.277.616.44a4.6 4.6 0 0 1 .537.543 4.5 4.5 0 0 1 .775 1.356c.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><g stroke-linecap="round"><path d="M651.957 56.27c.008.26-.003.53-.034.792a5.093 5.093 0 0 1-.165.775 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.185.176-.38.333-.585.48a4.517 4.517 0 0 1-.649.35 4.444 4.444 0 0 1-.703.234 3.611 3.611 0 0 1-.727.094c-.25.008-.49-.004-.732-.047a4.444 4.444 0 0 1-1.397-.494 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.646 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.58c.041-.26.093-.522.164-.775.082-.253.174-.506.286-.74.123-.224.256-.458.399-.663.153-.205.327-.4.501-.577.185-.176.38-.342.585-.479a4.444 4.444 0 0 1 1.362-.585c.238-.058.477-.085.727-.094.24-.007.49.005.732.047.241.042.484.104.716.186.223.083.457.186.67.309.215.123.42.276.616.44a4.6 4.6 0 0 1 .537.543 4.5 4.5 0 0 1 .775 1.355c.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M651.957 56.27c.008.26-.003.53-.034.792a5.093 5.093 0 0 1-.165.775 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.185.176-.38.333-.585.48a4.517 4.517 0 0 1-.649.35 4.444 4.444 0 0 1-.703.234 3.611 3.611 0 0 1-.727.094c-.25.008-.49-.004-.732-.047a4.444 4.444 0 0 1-1.397-.494 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.646 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.58c.041-.26.093-.522.164-.775.082-.253.174-.506.286-.74.123-.224.256-.458.399-.663.153-.205.327-.4.501-.577.185-.176.38-.342.585-.479a4.444 4.444 0 0 1 1.362-.585c.238-.058.477-.085.727-.094.24-.007.49.005.732.047.241.042.484.104.716.186.223.083.457.186.67.309.215.123.42.276.616.44a4.6 4.6 0 0 1 .537.543 4.5 4.5 0 0 1 .775 1.355c.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><path d="M620.875 22.913c.007.22-.005.45-.038.672-.023.22-.076.442-.149.655a3.329 3.329 0 0 1-.25.618 3.525 3.525 0 0 1-.351.562c-.135.185-.29.35-.445.495-.165.145-.34.291-.527.407a3.1 3.1 0 0 1-.57.3 3.573 3.573 0 0 1-1.923.243 3.727 3.727 0 0 1-.636-.16 3.524 3.524 0 0 1-.599-.261 4.802 4.802 0 0 1-.542-.373 3.505 3.505 0 0 1-.475-.464 4.224 4.224 0 0 1-.687-1.138 3.63 3.63 0 0 1-.182-.645 3.793 3.793 0 0 1-.044-1.34c.023-.22.076-.442.139-.664a4.07 4.07 0 0 1 .612-1.18c.134-.175.289-.34.444-.495.165-.146.34-.282.517-.397.186-.117.383-.223.58-.31.208-.076.416-.143.624-.19a3.493 3.493 0 0 1 1.3-.042c.21.033.423.086.635.149.202.073.405.167.589.27.193.105.378.229.552.363.165.145.33.3.475.465.146.165.272.351.388.537.117.197.213.394.29.601.087.218.154.436.191.654.048.219.069.558.082.668.014.11.007-.11 0 0M621.649 55.126c.007.22-.006.45-.039.671-.022.221-.075.443-.148.656a3.329 3.329 0 0 1-.25.618 3.525 3.525 0 0 1-.352.562c-.134.184-.289.35-.444.495-.166.145-.34.29-.527.407a3.1 3.1 0 0 1-.57.299 3.573 3.573 0 0 1-1.923.243 3.727 3.727 0 0 1-.636-.16 3.524 3.524 0 0 1-.6-.26 4.802 4.802 0 0 1-.542-.373 3.505 3.505 0 0 1-.475-.465 4.224 4.224 0 0 1-.687-1.138 3.63 3.63 0 0 1-.182-.644 3.793 3.793 0 0 1-.043-1.34c.022-.22.075-.442.138-.664a4.07 4.07 0 0 1 .612-1.18c.134-.176.289-.34.444-.496.165-.145.341-.281.517-.397.187-.116.383-.222.58-.309.208-.077.416-.144.625-.19a3.493 3.493 0 0 1 1.299-.043c.211.033.423.086.635.15.203.073.406.166.59.27.193.104.377.228.551.363.165.144.33.3.476.464.145.166.271.352.388.538.116.196.212.393.29.6.086.218.154.436.19.655.048.219.069.558.083.668.013.11.006-.11 0 0M636.204 40.293c.007.22-.006.44-.039.662a2.8 2.8 0 0 1-.149.635 3.238 3.238 0 0 1-.25.608 3.969 3.969 0 0 1-.352.552c-.135.165-.29.33-.445.475a4.698 4.698 0 0 1-.517.397 4.535 4.535 0 0 1-.581.3 4.502 4.502 0 0 1-.624.19 3.493 3.493 0 0 1-1.29.042 4.502 4.502 0 0 1-.635-.15 4.535 4.535 0 0 1-.599-.26 4.698 4.698 0 0 1-.542-.363 4.993 4.993 0 0 1-.474-.445 3.969 3.969 0 0 1-.687-1.118 3.423 3.423 0 0 1-.18-.624 3.683 3.683 0 0 1-.082-.658c-.007-.22.005-.44.039-.651.022-.221.076-.433.139-.645.073-.203.157-.406.26-.6.104-.193.218-.386.352-.551.135-.174.29-.34.445-.485.165-.145.34-.281.518-.387.186-.116.382-.222.58-.299a3.45 3.45 0 0 1 .624-.19 3.466 3.466 0 0 1 1.29-.042c.21.033.432.076.635.149.202.063.405.157.599.26.183.095.367.219.541.353.165.135.33.29.475.455.146.155.272.341.388.527.116.187.212.384.289.581.087.208.154.416.19.634.048.209.068.539.082.648.013.11.006-.11 0 0M648.956 23.39c.007.22-.006.44-.028.662-.024.21-.066.432-.13.634a5.358 5.358 0 0 1-.22.608 3.773 3.773 0 0 1-1.174 1.419 3.845 3.845 0 0 1-.521.297 3.618 3.618 0 0 1-.554.188 2.76 2.76 0 0 1-1.15.038 3.618 3.618 0 0 1-.565-.152 3.845 3.845 0 0 1-.539-.263 4.116 4.116 0 0 1-.482-.364 3.552 3.552 0 0 1-.772-.975 3.986 3.986 0 0 1-.27-.592 3.399 3.399 0 0 1-.17-.625 4.887 4.887 0 0 1-.071-.658c-.008-.22.005-.44.028-.651.023-.22.066-.432.13-.645.063-.202.136-.404.23-.597.084-.193.188-.387.312-.55.115-.175.25-.34.395-.484.145-.145.3-.28.457-.385.167-.116.343-.221.52-.297a2.78 2.78 0 0 1 .555-.188 2.784 2.784 0 0 1 1.15-.038c.19.034.382.078.565.152.182.064.365.158.539.262.163.095.337.22.481.355.155.135.3.29.426.456.135.156.25.342.357.529.096.187.183.384.26.582.076.207.133.416.17.634.037.21.057.539.071.648.014.11.006-.11 0 0M650.712 56.213c.007.22.004.44-.019.661-.023.211-.066.433-.109.634a5.309 5.309 0 0 1-.2.607 6.855 6.855 0 0 1-.273.55c-.104.163-.229.327-.354.471a3.005 3.005 0 0 1-.858.688c-.158.076-.326.141-.495.187a2.22 2.22 0 0 1-1.019.033 2.842 2.842 0 0 1-.495-.154 3.235 3.235 0 0 1-.48-.265 3.005 3.005 0 0 1-.431-.366 4.056 4.056 0 0 1-.375-.448 4.682 4.682 0 0 1-.318-.53 5.29 5.29 0 0 1-.23-.593 4.42 4.42 0 0 1-.16-.625c-.027-.219-.054-.438-.061-.658-.007-.22.006-.44.019-.65.023-.222.066-.433.119-.645.053-.202.117-.404.19-.597.084-.193.178-.386.283-.55a3.43 3.43 0 0 1 .344-.48c.125-.145.261-.28.408-.384.146-.115.303-.22.46-.295.158-.086.316-.14.485-.186a2.22 2.22 0 0 1 1.02-.034c.17.035.342.08.504.154.163.065.326.16.47.265.152.095.297.22.431.356.135.136.27.291.385.458.105.156.212.343.308.53.086.187.172.385.239.583.057.208.113.416.15.635.037.209.058.538.062.648.013.11.006-.11 0 0" stroke="#fff" fill="none" stroke-linecap="round"></path><g stroke-linecap="round"><path d="m329.454 223.05 6.38.58.58 1.74v150.41l-.58 1.74-1.74.58-6.38-.58-.58-1.74V225.37l.58-1.74 1.74-.58" stroke-width="0" fill="#b2f2bb"></path><path d="M329.454 223.05h4.64m-4.64 0h4.64m0 0c1.55 0 2.32.77 2.32 2.32m-2.32-2.32c1.55 0 2.32.77 2.32 2.32m0 0v150.41m0-150.41v150.41m0 0c0 1.55-.77 2.32-2.32 2.32m2.32-2.32c0 1.55-.77 2.32-2.32 2.32m0 0h-4.64m4.64 0h-4.64m0 0c-1.55 0-2.32-.77-2.32-2.32m2.32 2.32c-1.55 0-2.32-.77-2.32-2.32m0 0V225.37m0 150.41V225.37m0 0c0-1.55.77-2.32 2.32-2.32m-2.32 2.32c0-1.55.77-2.32 2.32-2.32" stroke="#2f9e44" fill="none"></path></g><g mask="url(#mask-CmX7T_VfXpU2AgohlxZbc)" stroke-linecap="round"><path d="M342.549 282.954h280.35m-280.35 0h280.35" stroke="#000" fill="none"></path><path d="m342.549 282.954 13.59-6.34v12.68l-13.59-6.34" stroke-width="0" fill-rule="evenodd"></path><path d="M342.549 282.954c4.51-2.1 9.02-4.2 13.59-6.34m-13.59 6.34c3.37-1.57 6.74-3.14 13.59-6.34m0 0v12.68m0-12.68v12.68m0 0-13.59-6.34m13.59 6.34c-2.78-1.3-5.56-2.6-13.59-6.34m0 0s0 0 0 0m0 0s0 0 0 0" stroke="#000" fill="none"></path></g><mask id="mask-CmX7T_VfXpU2AgohlxZbc"><path fill="#fff" d="M0 0h722.9v382.954H0z"></path><path d="M449.388 272.954h66.672v20h-66.672z"></path></mask><text x="33.336" font-family="Virgil, Segoe UI Emoji" font-size="16" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(449.388 272.954)">add API</text><text x="42.59" font-family="Virgil, Segoe UI Emoji" font-size="20" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(293.39 10)">Platform</text><text x="42.59" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(293.39 10)">Cluster</text><path d="M632.42 69.85v337.06m0-337.06v337.06" stroke="#000" fill="none" stroke-linecap="round"></path><g mask="url(#mask-geuI0QYjcjYdwygAAOTPe)" stroke-linecap="round"><path d="M630.773 244.165h-294.68m294.68 0h-294.68" stroke="#000" fill="none"></path><path d="m630.773 244.165-13.59 6.34v-12.68l13.59 6.34" stroke-width="0" fill-rule="evenodd"></path><path d="M630.773 244.165c-3 1.4-6.01 2.8-13.59 6.34m13.59-6.34c-3.72 1.74-7.45 3.47-13.59 6.34m0 0v-12.68m0 12.68v-12.68m0 0c2.87 1.34 5.74 2.68 13.59 6.34m-13.59-6.34c4.13 1.93 8.26 3.86 13.59 6.34m0 0s0 0 0 0m0 0s0 0 0 0" stroke="#000" fill="none"></path></g><mask id="mask-geuI0QYjcjYdwygAAOTPe"><path fill="#fff" d="M0 0h1025.452v344.165H0z"></path><path d="M428.185 234.165h110.496v20H428.185z"></path></mask><text x="55.248" font-family="Virgil, Segoe UI Emoji" font-size="16" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(428.185 234.165)">install promise</text><g stroke-linecap="round"><path d="m630.702 240.854 6.38.58.58 1.74v135.36l-.58 1.74-1.74.58h-4.64l-1.74-.58-.58-1.74v-135.36l.58-1.74 1.74-.58" stroke-width="0" fill="#b2f2bb"></path><path d="M630.702 240.854h4.64m-4.64 0h4.64m0 0c1.55 0 2.32.77 2.32 2.32m-2.32-2.32c1.55 0 2.32.77 2.32 2.32m0 0v135.36m0-135.36v135.36m0 0c0 1.55-.77 2.32-2.32 2.32m2.32-2.32c0 1.55-.77 2.32-2.32 2.32m0 0h-4.64m4.64 0h-4.64m0 0c-1.55 0-2.32-.77-2.32-2.32m2.32 2.32c-1.55 0-2.32-.77-2.32-2.32m0 0v-135.36m0 135.36v-135.36m0 0c0-1.55.77-2.32 2.32-2.32m-2.32 2.32c0-1.55.77-2.32 2.32-2.32" stroke="#2f9e44" fill="none"></path></g><g mask="url(#mask-_J408kS_QEl_069WIm62m)" stroke-linecap="round"><path d="M339.11 326.512h283.23m-283.23 0h283.23" stroke="#228be6" fill="none"></path><path d="m339.11 326.512 13.59-6.34v12.68l-13.59-6.34" stroke-width="0" fill="#228be6" fill-rule="evenodd"></path><path d="M339.11 326.512c3.34-1.56 6.69-3.12 13.59-6.34m-13.59 6.34c4.46-2.08 8.92-4.16 13.59-6.34m0 0v12.68m0-12.68v12.68m0 0c-3.71-1.73-7.42-3.46-13.59-6.34m13.59 6.34-13.59-6.34m0 0s0 0 0 0m0 0s0 0 0 0" stroke="#228be6" fill="none"></path></g><mask id="mask-_J408kS_QEl_069WIm62m"><path fill="#fff" d="M0 0h722.343v426.512H0z"></path><path d="M391.055 306.512h179.344v40H391.055z"></path></mask><text x="89.672" font-family="Virgil, Segoe UI Emoji" font-size="16" fill="#228be6" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(391.055 306.512)">get clusters with label</text><text x="89.672" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16" fill="#228be6" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(391.055 306.512)">environment = dev</text><g mask="url(#mask-btdI9BBDie70IyM8lM6AF)" stroke-linecap="round"><path d="M633.277 380.26c-49.31-.49-246.55-2.47-295.86-2.97" stroke="#e03131" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path><path d="m633.277 380.26-13.66 6.2.13-12.68 13.53 6.48" stroke-width="0" fill="#e03131" fill-rule="evenodd"></path><path d="M633.277 380.26c-4.07 1.85-8.14 3.7-13.66 6.2m0 0c.04-4.12.09-8.24.13-12.68m0 0c3.22 1.55 6.44 3.09 13.53 6.48m0 0s0 0 0 0" stroke="#e03131" stroke-width="1.5" fill="none"></path></g><mask id="mask-btdI9BBDie70IyM8lM6AF"><path fill="#fff" d="M0 0h1029.141v483.229H0z"></path><path d="M416.337 368.777h138.016v20H416.337z"></path></mask><text x="69.008" font-family="Virgil, Segoe UI Emoji" font-size="16" fill="#e03131" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(416.337 368.777)">no clusters found</text><g stroke-linecap="round"><path d="M533.859 391.454h191.89l4.59.66 3.28 1.97 1.97 3.28.66 4.59v21l-.66 4.6-1.97 3.28-3.28 1.97-4.59.66h-191.89l-4.59-.66-3.28-1.97-1.97-3.28-.66-4.6v-21l.66-4.59 1.97-3.28 3.28-1.97 4.59-.66" stroke-width="0" fill="#ffc9c9"></path><path d="M533.859 391.454h191.89m-191.89 0h191.89m0 0c7 0 10.5 3.5 10.5 10.5m-10.5-10.5c7 0 10.5 3.5 10.5 10.5m0 0v21m0-21v21m0 0c0 7.01-3.5 10.51-10.5 10.51m10.5-10.51c0 7.01-3.5 10.51-10.5 10.51m0 0h-191.89m191.89 0h-191.89m0 0c-7 0-10.5-3.5-10.5-10.51m10.5 10.51c-7 0-10.5-3.5-10.5-10.51m0 0v-21m0 21v-21m0 0c0-7 3.5-10.5 10.5-10.5m-10.5 10.5c0-7 3.5-10.5 10.5-10.5" stroke="#e64980" fill="none"></path></g><text x="81.064" font-family="Virgil, Segoe UI Emoji" font-size="16" fill="#e64980" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(548.943 405.9)">error: can&#x27;t schedule</text></svg></figure><h3 class="anchor anchorWithStickyNavbar_LWe7" id="label-the-cluster">Label the cluster<a href="#label-the-cluster" class="hash-link" aria-label="Direct link to Label the cluster" title="Direct link to Label the cluster">‚Äã</a></h3><p>It is time to update the Kratix cluster to have the matching <code>environment=dev</code> label which is required
to receive the ECK resources:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context $PLATFORM label cluster worker-cluster-1 environment=dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-the-worker">Verify the worker<a href="#verify-the-worker" class="hash-link" aria-label="Direct link to Verify the worker" title="Direct link to Verify the worker">‚Äã</a></h3><p>Kratix is going to detect this change to the cluster and start to schedule resources
to it:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$WORKER</span><span class="token plain"> get pods -n elastic-system -w</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should eventually see the following output:</p><div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">NAME                 READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">elastic-operator-0   1/1     Running   0          1m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With all the necessary CRDs installed:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$WORKER</span><span class="token plain"> get crds </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> elastic</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You have now successfully updated the Promise to only schedule to clusters with the
<code>environment=dev</code> label. If you were to create a new worker cluster that didn&#x27;t have
the <code>environment=dev</code> label the Promise wouldn&#x27;t schedule any work to it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rr-scheduling">Schedule Resource Requests to specific clusters<a href="#rr-scheduling" class="hash-link" aria-label="Direct link to Schedule Resource Requests to specific clusters" title="Direct link to Schedule Resource Requests to specific clusters">‚Äã</a></h2><p>Being able to define inside the Promise what types of clusters the resources can
be scheduled to enables a lot control for operators. But in the event a Promise matches more than
one cluster, it does not enable the Promise author to decide which of the matching Kratix clusters
receives the resources from a user request.</p><p>Imagine that you have additional requirements for any Resource Requests that sets
<code>enableDataCollection: true</code>. For example, these resources requests require a Kubernetes cluster with
a persistent volume storage of adequate size to handle the data collected. When false you might
want a different type of cluster or might decide that it has no opinion at all on what cluster should
be used.</p><p>To achieve this with Kratix, you can optionally set additional labels at request time by
outputting them from the pipeline.</p><p>Kratix has a convention of using a <a href="/docs/main/reference/resource-requests/pipelines#metadata">`/metadata</a>
directory to manage important configurations generated in the pipeline that are independent of
the resources you want stored in a GitOps state store.</p><p>To set additional scheduling labels, you can add key:value pairs <code>/metadata/cluster-selectors.yaml</code> file.</p><p>Any selectors added in this file will be appended to the list provided by the Promise. This means means
that you cannot override the Kratix cluster selectors set in the Promise definition. This enables clear
security controls defined by the Promise author, and also guarantees that a Resource Request
will always be scheduled to a Kratix cluster that has already received the Promise dependencies.</p><p>Given the new requirements for a persistent volume, you can update the Resource Request pipeline to add
the <code>pvCapacity=large</code> selector when <code>enableDataCollection</code> is set to <code>true</code>. This will indicate that
Kratix should only schedule these Resource Requests to clusters with a large pool of persistent volumes.</p><p>Add the following to the end of the <code>pipeline/run</code> script:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${enableDataCollection}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Setting additional cluster selectors: pvCapacity=large&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pvCapacity: large&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /metadata/cluster-selectors.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-the-image">Build the image<a href="#build-the-image" class="hash-link" aria-label="Direct link to Build the image" title="Direct link to Build the image">‚Äã</a></h3><p>Since the pipeline script has changed you need to rebuild and load the docker image.</p><p>First you need to build the image and load it into the local KinD cluster:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./scripts/build-pipeline</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-a-resource-request">Send a Resource Request<a href="#send-a-resource-request" class="hash-link" aria-label="Direct link to Send a Resource Request" title="Direct link to Send a Resource Request">‚Äã</a></h3><p>Finally, make a Resource Request with the <code>enableDataCollection</code> set to <code>true</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> apply --filename resource-request.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can see that Kratix accepts this request and triggers the pipeline:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> get pods -w</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-the-pipeline">Verify the pipeline<a href="#verify-the-pipeline" class="hash-link" aria-label="Direct link to Verify the pipeline" title="Direct link to Verify the pipeline">‚Äã</a></h3><p>Once the pipeline has complete take a look at the logs for the request:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> logs </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --selector kratix-promise-id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">elastic-cloud-default </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --container xaas-request-pipeline-stage-0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should see the following at the end of the output:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Setting additional cluster selectors: pvCapacity=large</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-the-resource-request-has-not-been-scheduled">Verify the Resource Request has not been scheduled<a href="#verify-the-resource-request-has-not-been-scheduled" class="hash-link" aria-label="Direct link to Verify the Resource Request has not been scheduled" title="Direct link to Verify the Resource Request has not been scheduled">‚Äã</a></h3><p>You can see that Kratix has successfully handle the incoming request in the pipeline.</p><p>But looking deeper, the worker cluster does not have the expected ECK pods:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$WORKER</span><span class="token plain"> get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next inspect the Kratix controller logs. This query will surface that Kratix was not
able to find a matching cluster to schedule the request:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">context $PLATFORM </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">namespace kratix</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">platform</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  logs deployment/kratix</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">platform</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">controller</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">manager \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container manager </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> grep &quot;Reconciler error&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above command will give an output similar to:</p><div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token command shell-symbol important">#</span><span class="token command"> </span><span class="token command bash language-bash">output formatted </span><span class="token command bash language-bash keyword" style="color:#00009f">for</span><span class="token command bash language-bash"> readability</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token output">ERROR   Reconciler error {</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">    &quot;Work&quot;: {&quot;name&quot;:&quot;eck-default&quot;,&quot;namespace&quot;:&quot;default&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">    &quot;error&quot;: &quot;no Clusters can be selected for clusterSelector&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Just as with the original <code>environment</code> label, Kratix queryed what Clusters matched <em>all</em>
provided label selectors. Since no cluster was found the resource fails to schedule until
a Kratix cluster does match.</p><figure class="diagram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 721.191 448.664" width="721.191" height="448.664" class="small"><defs><style>@font-face{font-family:&quot;Virgil&quot;;src:url(https://excalidraw.com/Virgil.woff2)}@font-face{font-family:&quot;Cascadia&quot;;src:url(https://excalidraw.com/Cascadia.woff2)}</style></defs><path fill="#fff" d="M0 0h721.191v448.664H0z"></path><g stroke-linecap="round"><path d="M42.915 165.661s0 0 0 0m0 0s0 0 0 0m-2.23 8.66 12.47-14.34m-12.47 14.34c4.37-5.03 8.74-10.05 12.47-14.34m-12.73 20.74c3.56-4.1 7.12-8.19 17.06-19.62m-17.06 19.62c6.63-7.62 13.26-15.25 17.06-19.62m-16.01 24.51c6.64-7.64 13.28-15.27 20.99-24.15m-20.99 24.15c7.96-9.15 15.91-18.3 20.99-24.15m-17.97 26.77c5.47-6.29 10.94-12.59 21.65-24.9m-21.65 24.9c5.99-6.88 11.97-13.77 21.65-24.9m-18.63 27.53c4.99-5.74 9.98-11.48 21.65-24.91m-21.65 24.91c7.1-8.17 14.2-16.35 21.65-24.91m-17.98 26.78c7.23-8.32 14.47-16.64 20.34-23.4m-20.34 23.4 20.34-23.4m-15.35 23.76c3.69-4.25 7.38-8.5 16.4-18.87m-16.4 18.87c5.88-6.77 11.76-13.53 16.4-18.87m-10.76 18.47c2.5-2.87 4.99-5.74 11.16-12.83m-11.16 12.83c4.11-4.72 8.22-9.45 11.16-12.83" stroke="#12b886" stroke-width="0.5" fill="none"></path><path d="M72.725 176.391a16.774 16.774 0 0 1-1.02 5.74c-.33.91-.75 1.81-1.24 2.65a16.783 16.783 0 0 1-3.76 4.46c-.75.63-1.56 1.2-2.41 1.68-.84.49-1.75.9-2.66 1.24-.92.33-1.88.59-2.84.75-.96.17-1.95.26-2.93.26-.97 0-1.96-.09-2.92-.26a16.507 16.507 0 0 1-5.5-1.99c-.85-.48-1.66-1.05-2.41-1.68-.75-.62-1.45-1.32-2.08-2.06-.62-.75-1.19-1.56-1.68-2.4-.49-.84-.91-1.74-1.24-2.65-.34-.91-.59-1.87-.76-2.82-.17-.96-.26-1.94-.26-2.92 0-.97.09-1.95.26-2.91.17-.95.42-1.91.76-2.82.33-.92.75-1.81 1.24-2.65.49-.84 1.06-1.65 1.68-2.4.63-.74 1.33-1.44 2.08-2.07.75-.62 1.56-1.19 2.41-1.67.84-.49 1.74-.91 2.66-1.24.92-.33 1.88-.59 2.84-.76.96-.16 1.95-.25 2.92-.25.98 0 1.97.09 2.93.25.96.17 1.92.43 2.84.76.91.33 1.82.75 2.66 1.24.85.48 1.66 1.05 2.41 1.67.74.63 1.45 1.33 2.07 2.07.63.75 1.2 1.56 1.69 2.4.49.84.91 1.73 1.24 2.65.33.91.59 1.87.76 2.82.17.96.21 2.43.26 2.91.04.49.04-.48 0 0" stroke="#495057" fill="none"></path></g><g fill-rule="evenodd" stroke-linecap="round"><path d="M44.83 192.92s0 0 0 0m0 0s0 0 0 0m-4.86 11.68c3.36-3.86 6.71-7.72 11.81-13.59M39.97 204.6c2.53-2.91 5.06-5.83 11.81-13.59m-16 24.51c4.54-5.23 9.09-10.46 19.68-22.64m-19.68 22.64c7.43-8.55 14.86-17.1 19.68-22.64m-21.91 31.3c5.8-6.67 11.61-13.35 28.21-32.45m-28.21 32.45c8.02-9.23 16.04-18.46 28.21-32.45m-27.82 38.1c11.83-13.61 23.66-27.21 32.8-37.74m-32.8 37.74c8.93-10.27 17.85-20.54 32.8-37.74m-32.4 43.38c13.18-15.17 26.37-30.34 34.77-40m-34.77 40c9.94-11.44 19.89-22.89 34.77-40M36.04 239.6c9.53-10.96 19.06-21.92 34.77-40m-34.77 40c11.56-13.29 23.12-26.59 34.77-40m-31.75 42.63c9.46-10.88 18.91-21.76 33.46-38.49m-33.46 38.49 33.46-38.49m-29.13 39.6c8.16-9.38 16.32-18.77 30.84-35.47m-30.84 35.47c8.24-9.48 16.49-18.96 30.84-35.47M48.38 243.7c10.99-12.64 21.99-25.29 27.55-31.69M48.38 243.7c9.62-11.07 19.24-22.14 27.55-31.69m-22.56 32.05c8.98-10.33 17.95-20.66 23.61-27.17m-23.61 27.17c6.04-6.95 12.09-13.91 23.61-27.17M57.7 245.18c6.63-7.63 13.26-15.26 20.99-24.15M57.7 245.18c8.27-9.51 16.53-19.02 20.99-24.15m-15.35 23.75c5.3-6.09 10.6-12.19 16.4-18.86m-16.4 18.86 16.4-18.86m-9.44 16.96c2.51-2.9 5.03-5.79 11.15-12.83M70.3 242.88c3.75-4.32 7.5-8.64 11.15-12.83" stroke="#12b886" stroke-width="0.5" fill="none"></path><path d="M55.79 193.17c1.86 0 7.46-7.46 11.18 0 3.73 7.46 16.78 37.28 11.19 44.73-5.6 7.46-39.14 7.46-44.74 0-5.59-7.45 7.46-37.27 11.19-44.73 3.72-7.46 9.32 0 11.18 0m0 0c1.86 0 7.46-7.46 11.18 0 3.73 7.46 16.78 37.28 11.19 44.73-5.6 7.46-39.14 7.46-44.74 0-5.59-7.45 7.46-37.27 11.19-44.73 3.72-7.46 9.32 0 11.18 0" stroke="#495057" fill="none"></path></g><text x="44.224" font-family="Virgil, Segoe UI Emoji" font-size="17.35" fill="#087f5b" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(10 251.184)">Application</text><text x="44.224" y="21.687" font-family="Virgil, Segoe UI Emoji" font-size="17.35" fill="#087f5b" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(10 251.184)">Engineer</text><g mask="url(#mask-tjSDiYhw4KNNGiCR8aIJr)" stroke-linecap="round"><path d="m105.522 238.318 233.4 5.28m-233.4-5.28 233.4 5.28" stroke="#000" fill="none"></path><path d="m338.922 243.598-13.73 6.03.28-12.68 13.45 6.65" stroke-width="0" fill-rule="evenodd"></path><path d="M338.922 243.598c-4.15 1.82-8.3 3.64-13.73 6.03m13.73-6.03c-3.01 1.32-6.02 2.64-13.73 6.03m0 0c.06-2.84.13-5.67.28-12.68m-.28 12.68c.07-3.41.15-6.83.28-12.68m0 0c3.47 1.72 6.94 3.43 13.45 6.65m-13.45-6.65c2.96 1.47 5.92 2.93 13.45 6.65m0 0s0 0 0 0m0 0s0 0 0 0" stroke="#000" fill="none"></path></g><mask id="mask-tjSDiYhw4KNNGiCR8aIJr"><path fill="#fff" d="M0 0h438.924v343.597H0z"></path><path d="M155.287 230.957h133.872v20H155.287z"></path></mask><text x="66.936" font-family="Virgil, Segoe UI Emoji" font-size="16" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(155.287 230.957)">resource request</text><path d="M351.392 71.9c-.19 55.98-.94 279.89-1.13 335.87m1.13-335.87c-.19 55.98-.94 279.89-1.13 335.87" stroke="#000" fill="none" stroke-linecap="round"></path><g stroke-linecap="round"><path d="m634.537 20.016 3.769-.07 1.428.443.497 1.4.66 35.345-.444 1.418-1.41.497-5.188-.374-.497-1.4-.66-35.344.444-1.419 1.4-.496" stroke-width="0" fill="#7950f2"></path><path d="m634.537 20.016 3.769-.07m-3.77.07 3.77-.07m0 0c1.26-.024 1.901.594 1.925 1.844m-1.925-1.845c1.26-.023 1.901.595 1.925 1.845m0 0 .66 35.344m-.66-35.344.66 35.344m0 0c.023 1.25-.595 1.891-1.855 1.915m1.855-1.915c.023 1.25-.595 1.891-1.855 1.915m0 0-3.769.07m3.77-.07-3.77.07m0 0c-1.25.023-1.891-.595-1.915-1.845m1.915 1.845c-1.25.023-1.891-.595-1.915-1.845m0 0-.66-35.343m.66 35.343-.66-35.343m0 0c-.023-1.25.595-1.892 1.845-1.915m-1.845 1.915c-.023-1.25.595-1.892 1.845-1.915" stroke="transparent" fill="none"></path></g><g stroke-linecap="round"><path d="m665.459 19.673 2.87 2.445.776 1.278-.556 1.378-29.7 34.877-1.273.77-1.386-.564-3.639-3.716.557-1.378 29.7-34.877 1.272-.77 1.379.557" stroke-width="0" fill="#7950f2"></path><path d="m665.459 19.673 2.87 2.445m-2.87-2.445 2.87 2.445m0 0c.96.816 1.03 1.705.22 2.656m-.22-2.656c.96.816 1.03 1.705.22 2.656m0 0-29.7 34.877m29.7-34.877-29.7 34.877m0 0c-.811.952-1.7 1.023-2.659.206m2.658-.206c-.81.952-1.698 1.023-2.658.206m0 0-2.87-2.444m2.87 2.444-2.87-2.444m0 0c-.952-.81-1.023-1.699-.212-2.65m.212 2.65c-.952-.81-1.023-1.699-.212-2.65m0 0 29.7-34.877m-29.7 34.877 29.7-34.877m0 0c.81-.952 1.699-1.023 2.65-.213m-2.65.213c.81-.952 1.699-1.023 2.65-.213" stroke="transparent" fill="none"></path></g><g stroke-linecap="round"><path d="m670.139 57.165-2.855 2.462-1.382.572-1.277-.761-16.022-18.575-.565-1.375.762-1.29 4.236-3.02 1.277.76 16.022 18.575.565 1.375-.761 1.277" stroke-width="0" fill="#7950f2"></path><path d="m670.139 57.165-2.855 2.462m2.855-2.462-2.855 2.462m0 0c-.954.823-1.842.757-2.659-.19m2.66.19c-.955.823-1.843.757-2.66-.19m0 0-16.022-18.574m16.022 18.575-16.022-18.575m0 0c-.823-.954-.757-1.843.197-2.666m-.197 2.666c-.823-.954-.757-1.843.197-2.666m0 0 2.855-2.462m-2.855 2.462 2.855-2.462m0 0c.946-.816 1.835-.75 2.658.203m-2.658-.203c.946-.816 1.835-.75 2.658.203m0 0 16.022 18.575m-16.022-18.575 16.022 18.575m0 0c.816.947.75 1.835-.196 2.652m.196-2.652c.816.947.75 1.835-.196 2.652" stroke="transparent" fill="none"></path></g><g stroke-linecap="round"><path d="M640.562 22.455c.008.26-.003.53-.034.792a5.093 5.093 0 0 1-.165.776 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.184.176-.38.332-.585.479a4.517 4.517 0 0 1-.649.351 4.444 4.444 0 0 1-.702.233 3.611 3.611 0 0 1-.728.094c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.396-.495 5.303 5.303 0 0 1-.615-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.441-.646 5.203 5.203 0 0 1-.334-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.579c.041-.261.093-.523.164-.776.082-.252.174-.506.286-.74.123-.223.256-.458.4-.663.152-.205.326-.4.5-.576.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.242.042.484.104.717.187.222.083.456.185.67.308a4.6 4.6 0 0 1 1.153.983 4.5 4.5 0 0 1 .774 1.355c.088.248.167.505.215.764.049.258.072.658.086.787.014.13.006-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M640.562 22.455c.008.26-.003.53-.034.792a5.093 5.093 0 0 1-.165.776 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.184.176-.38.332-.585.479a4.517 4.517 0 0 1-.649.351 4.444 4.444 0 0 1-.702.233 3.611 3.611 0 0 1-.728.094c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.396-.495 5.303 5.303 0 0 1-.615-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.441-.646 5.203 5.203 0 0 1-.334-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.579c.041-.261.093-.523.164-.776.082-.252.174-.506.286-.74.123-.223.256-.458.4-.663.152-.205.326-.4.5-.576.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.242.042.484.104.717.187.222.083.456.185.67.308a4.6 4.6 0 0 1 1.153.983 4.5 4.5 0 0 1 .774 1.355c.088.248.167.505.215.764.049.258.072.658.086.787.014.13.006-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><g stroke-linecap="round"><path d="M641.523 54.704c.008.26-.003.53-.035.791a5.093 5.093 0 0 1-.164.776 4.223 4.223 0 0 1-.287.73 4.594 4.594 0 0 1-.398.673 4.6 4.6 0 0 1-.501.577c-.185.176-.38.332-.585.479a4.517 4.517 0 0 1-.649.351 4.444 4.444 0 0 1-.703.233 3.611 3.611 0 0 1-.727.094c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.615-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.44-.646 5.203 5.203 0 0 1-.334-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.052-1.579c.042-.261.093-.523.165-.776.082-.252.174-.505.286-.74.123-.223.255-.458.399-.663.153-.205.327-.4.501-.576.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.241.042.483.104.716.187.223.083.456.185.67.308a4.6 4.6 0 0 1 1.153.983 4.5 4.5 0 0 1 .775 1.355c.088.248.166.505.215.764.048.258.071.658.086.788.014.13.005-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M641.523 54.704c.008.26-.003.53-.035.791a5.093 5.093 0 0 1-.164.776 4.223 4.223 0 0 1-.287.73 4.594 4.594 0 0 1-.398.673 4.6 4.6 0 0 1-.501.577c-.185.176-.38.332-.585.479a4.517 4.517 0 0 1-.649.351 4.444 4.444 0 0 1-.703.233 3.611 3.611 0 0 1-.727.094c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.615-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.44-.646 5.203 5.203 0 0 1-.334-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.052-1.579c.042-.261.093-.523.165-.776.082-.252.174-.505.286-.74.123-.223.255-.458.399-.663.153-.205.327-.4.501-.576.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.241.042.483.104.716.187.223.083.456.185.67.308a4.6 4.6 0 0 1 1.153.983 4.5 4.5 0 0 1 .775 1.355c.088.248.166.505.215.764.048.258.071.658.086.788.014.13.005-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><g stroke-linecap="round"><path d="M655.99 40.607c.009.26-.003.53-.034.791a5.093 5.093 0 0 1-.165.776 3.555 3.555 0 0 1-.286.73 5.59 5.59 0 0 1-.389.673 4.6 4.6 0 0 1-.501.576c-.174.176-.37.333-.575.48a4.067 4.067 0 0 1-.649.35 4.653 4.653 0 0 1-.692.234 3.611 3.611 0 0 1-.728.093c-.24.008-.48-.004-.722-.046a3.97 3.97 0 0 1-1.377-.495 5.303 5.303 0 0 1-.614-.44 4.52 4.52 0 0 1-.97-1.19 4.223 4.223 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.579c.041-.261.093-.523.164-.776.072-.252.174-.506.287-.74a4.5 4.5 0 0 1 .398-.663 4.347 4.347 0 0 1 1.076-1.056 3.97 3.97 0 0 1 1.342-.583c.238-.058.477-.086.717-.094.24-.008.49.004.732.046.232.043.474.105.707.187a3.741 3.741 0 0 1 1.275.749 4.6 4.6 0 0 1 .538.543c.156.195.304.42.43.636.138.226.246.472.334.72.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M655.99 40.607c.009.26-.003.53-.034.791a5.093 5.093 0 0 1-.165.776 3.555 3.555 0 0 1-.286.73 5.59 5.59 0 0 1-.389.673 4.6 4.6 0 0 1-.501.576c-.174.176-.37.333-.575.48a4.067 4.067 0 0 1-.649.35 4.653 4.653 0 0 1-.692.234 3.611 3.611 0 0 1-.728.093c-.24.008-.48-.004-.722-.046a3.97 3.97 0 0 1-1.377-.495 5.303 5.303 0 0 1-.614-.44 4.52 4.52 0 0 1-.97-1.19 4.223 4.223 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.579c.041-.261.093-.523.164-.776.072-.252.174-.506.287-.74a4.5 4.5 0 0 1 .398-.663 4.347 4.347 0 0 1 1.076-1.056 3.97 3.97 0 0 1 1.342-.583c.238-.058.477-.086.717-.094.24-.008.49.004.732.046.232.043.474.105.707.187a3.741 3.741 0 0 1 1.275.749 4.6 4.6 0 0 1 .538.543c.156.195.304.42.43.636.138.226.246.472.334.72.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><g stroke-linecap="round"><path d="M669.206 23.257c.008.26-.003.53-.034.791a5.093 5.093 0 0 1-.165.776 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.184.176-.38.332-.585.48a4.517 4.517 0 0 1-.649.35 4.444 4.444 0 0 1-.702.234 3.611 3.611 0 0 1-.728.093c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.645 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.58c.041-.261.093-.523.164-.775.082-.253.174-.506.286-.74.123-.224.256-.459.399-.663.153-.206.327-.401.501-.577.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.242.042.484.105.716.187.223.083.457.185.67.308.215.123.42.277.616.44a4.6 4.6 0 0 1 .538.543 4.5 4.5 0 0 1 .774 1.356c.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M669.206 23.257c.008.26-.003.53-.034.791a5.093 5.093 0 0 1-.165.776 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.184.176-.38.332-.585.48a4.517 4.517 0 0 1-.649.35 4.444 4.444 0 0 1-.702.234 3.611 3.611 0 0 1-.728.093c-.25.008-.49-.004-.732-.046a4.444 4.444 0 0 1-1.397-.495 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.645 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.58c.041-.261.093-.523.164-.775.082-.253.174-.506.286-.74.123-.224.256-.459.399-.663.153-.206.327-.401.501-.577.185-.176.38-.343.585-.48a4.444 4.444 0 0 1 1.362-.585c.238-.057.477-.085.727-.093.24-.008.49.004.732.046.242.042.484.105.716.187.223.083.457.185.67.308.215.123.42.277.616.44a4.6 4.6 0 0 1 .538.543 4.5 4.5 0 0 1 .774 1.356c.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><g stroke-linecap="round"><path d="M671.257 56.27c.008.26-.003.53-.034.792a5.093 5.093 0 0 1-.165.775 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.184.176-.38.333-.585.48a4.517 4.517 0 0 1-.649.35 4.444 4.444 0 0 1-.702.234 3.611 3.611 0 0 1-.728.094c-.25.008-.49-.004-.732-.047a4.444 4.444 0 0 1-1.397-.494 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.646 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.58c.041-.26.093-.522.164-.775.082-.253.174-.506.286-.74.123-.224.256-.458.399-.663.153-.205.327-.4.501-.577.185-.176.38-.342.585-.479a4.444 4.444 0 0 1 1.362-.585c.238-.058.477-.085.727-.094.24-.007.49.005.732.047s.484.104.717.186c.222.083.456.186.67.309a4.6 4.6 0 0 1 1.153.983 4.5 4.5 0 0 1 .774 1.355c.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke-width="0" fill="#7950f2"></path><path d="M671.257 56.27c.008.26-.003.53-.034.792a5.093 5.093 0 0 1-.165.775 4.223 4.223 0 0 1-.286.73 4.594 4.594 0 0 1-.399.673 4.6 4.6 0 0 1-.501.577c-.184.176-.38.333-.585.48a4.517 4.517 0 0 1-.649.35 4.444 4.444 0 0 1-.702.234 3.611 3.611 0 0 1-.728.094c-.25.008-.49-.004-.732-.047a4.444 4.444 0 0 1-1.397-.494 5.303 5.303 0 0 1-.614-.44 5.557 5.557 0 0 1-.538-.543 7.393 7.393 0 0 1-.442-.646 5.203 5.203 0 0 1-.333-.71 6.657 6.657 0 0 1-.215-.763 5.253 5.253 0 0 1-.051-1.58c.041-.26.093-.522.164-.775.082-.253.174-.506.286-.74.123-.224.256-.458.399-.663.153-.205.327-.4.501-.577.185-.176.38-.342.585-.479a4.444 4.444 0 0 1 1.362-.585c.238-.058.477-.085.727-.094.24-.007.49.005.732.047s.484.104.717.186c.222.083.456.186.67.309a4.6 4.6 0 0 1 1.153.983 4.5 4.5 0 0 1 .774 1.355c.088.247.167.505.215.763.049.259.072.658.086.788.014.13.006-.13 0 0" stroke="#5f3dc4" fill="none"></path></g><path d="M640.175 22.913c.007.22-.005.45-.038.672-.023.22-.075.442-.149.655a3.329 3.329 0 0 1-.25.618 3.525 3.525 0 0 1-.351.562c-.134.185-.29.35-.444.495-.166.145-.341.291-.527.407a3.1 3.1 0 0 1-.571.3 3.573 3.573 0 0 1-1.923.243 3.727 3.727 0 0 1-.636-.16 3.524 3.524 0 0 1-.598-.261 4.802 4.802 0 0 1-.543-.373 3.505 3.505 0 0 1-.475-.464 4.224 4.224 0 0 1-.687-1.138 3.63 3.63 0 0 1-.182-.645 3.793 3.793 0 0 1-.044-1.34c.023-.22.076-.442.139-.664a4.07 4.07 0 0 1 .612-1.18c.134-.175.289-.34.444-.495.165-.146.34-.282.517-.397.186-.117.383-.223.58-.31.208-.076.416-.143.624-.19a3.493 3.493 0 0 1 1.3-.042c.21.033.423.086.635.149.202.073.406.167.589.27.194.105.378.229.552.363.165.145.33.3.476.465.145.165.271.351.387.537.117.197.213.394.29.601.087.218.154.436.191.654.048.219.069.558.082.668.014.11.007-.11 0 0M640.949 55.126c.007.22-.006.45-.038.671-.023.221-.076.443-.15.656a3.329 3.329 0 0 1-.25.618 3.525 3.525 0 0 1-.351.562c-.134.184-.289.35-.444.495-.165.145-.34.29-.527.407a3.1 3.1 0 0 1-.57.299 3.573 3.573 0 0 1-1.923.243 3.727 3.727 0 0 1-.636-.16 3.524 3.524 0 0 1-.6-.26 4.802 4.802 0 0 1-.542-.373 3.505 3.505 0 0 1-.475-.465 4.224 4.224 0 0 1-.687-1.138 3.63 3.63 0 0 1-.182-.644 3.793 3.793 0 0 1-.043-1.34c.023-.22.075-.442.138-.664a4.07 4.07 0 0 1 .612-1.18c.134-.176.289-.34.444-.496.165-.145.341-.281.517-.397.187-.116.383-.222.58-.309.208-.077.416-.144.625-.19a3.493 3.493 0 0 1 1.299-.043c.211.033.423.086.635.15.203.073.406.166.59.27.193.104.377.228.551.363.165.144.33.3.476.464.145.166.271.352.388.538.116.196.213.393.29.6.087.218.154.436.19.655.048.219.07.558.083.668.013.11.006-.11 0 0M655.504 40.293c.007.22-.006.44-.038.662a2.8 2.8 0 0 1-.15.635 3.238 3.238 0 0 1-.25.608 3.969 3.969 0 0 1-.352.552c-.135.165-.29.33-.445.475a4.698 4.698 0 0 1-.517.397 4.535 4.535 0 0 1-.581.3 4.502 4.502 0 0 1-.624.19 3.493 3.493 0 0 1-1.29.042 4.502 4.502 0 0 1-.635-.15 4.535 4.535 0 0 1-.598-.26 4.698 4.698 0 0 1-.543-.363 4.993 4.993 0 0 1-.474-.445 3.969 3.969 0 0 1-.687-1.118 3.423 3.423 0 0 1-.18-.624 3.683 3.683 0 0 1-.082-.658c-.007-.22.006-.44.039-.651.023-.221.076-.433.139-.645.073-.203.157-.406.26-.6.104-.193.218-.386.353-.551.134-.174.289-.34.444-.485.165-.145.341-.281.518-.387.186-.116.383-.222.58-.299a3.45 3.45 0 0 1 .624-.19 3.466 3.466 0 0 1 1.29-.042c.21.033.432.076.635.149.202.063.405.157.599.26.183.095.367.219.541.353.165.135.33.29.476.455.145.155.27.341.387.527.116.187.213.384.289.581.087.208.154.416.19.634.048.209.068.539.082.648.014.11.006-.11 0 0M668.256 23.39c.007.22-.006.44-.028.662-.023.21-.066.432-.13.634a5.358 5.358 0 0 1-.22.608 3.773 3.773 0 0 1-1.174 1.419 3.845 3.845 0 0 1-.521.297 3.618 3.618 0 0 1-.554.188 2.76 2.76 0 0 1-1.15.038 3.618 3.618 0 0 1-.565-.152 3.845 3.845 0 0 1-.539-.263 4.116 4.116 0 0 1-.482-.364 3.552 3.552 0 0 1-.772-.975 3.986 3.986 0 0 1-.27-.592 3.399 3.399 0 0 1-.17-.625 4.887 4.887 0 0 1-.071-.658c-.008-.22.005-.44.028-.651.023-.22.066-.432.13-.645.063-.202.136-.404.23-.597.084-.193.188-.387.312-.55.115-.175.25-.34.395-.484.145-.145.3-.28.457-.385.167-.116.343-.221.521-.297a2.78 2.78 0 0 1 .554-.188 2.784 2.784 0 0 1 1.15-.038c.19.034.382.078.565.152.182.064.365.158.539.262.163.095.337.22.481.355.155.135.3.29.426.456.135.156.25.342.357.529.096.187.183.384.26.582.076.207.133.416.17.634.037.21.058.539.071.648.014.11.007-.11 0 0M670.012 56.213c.007.22.004.44-.019.661-.023.211-.065.433-.109.634a5.309 5.309 0 0 1-.2.607 6.855 6.855 0 0 1-.272.55c-.105.163-.23.327-.355.471a3.005 3.005 0 0 1-.858.688c-.158.076-.326.141-.494.187a2.22 2.22 0 0 1-1.02.033 2.842 2.842 0 0 1-.495-.154 3.235 3.235 0 0 1-.48-.265 3.005 3.005 0 0 1-.431-.366 4.056 4.056 0 0 1-.375-.448 4.682 4.682 0 0 1-.318-.53 5.29 5.29 0 0 1-.229-.593 4.42 4.42 0 0 1-.16-.625c-.028-.219-.055-.438-.062-.658-.007-.22.006-.44.019-.65.023-.222.066-.433.119-.645.053-.202.117-.404.19-.597.084-.193.178-.386.283-.55a3.43 3.43 0 0 1 .344-.48c.126-.145.261-.28.408-.384.146-.115.303-.22.46-.295.158-.086.316-.14.485-.186a2.22 2.22 0 0 1 1.02-.034c.17.035.342.08.504.154.163.065.326.16.47.265.153.095.297.22.431.356.135.136.27.291.385.458.106.156.212.343.308.53.086.187.172.385.239.583.057.208.114.416.15.635.038.209.058.538.062.648.013.11.006-.11 0 0" stroke="#fff" fill="none" stroke-linecap="round"></path><g stroke-linecap="round"><path d="m349.154 223.05 7.49.68.68 2.04v166.18l-.68 2.04-2.04.68-7.49-.68-.68-2.04V225.77l.68-2.04 2.04-.68" stroke-width="0" fill="#b2f2bb"></path><path d="M349.154 223.05h5.45m-5.45 0h5.45m0 0c1.81 0 2.72.91 2.72 2.72m-2.72-2.72c1.81 0 2.72.91 2.72 2.72m0 0v166.18m0-166.18v166.18m0 0c0 1.81-.91 2.72-2.72 2.72m2.72-2.72c0 1.81-.91 2.72-2.72 2.72m0 0h-5.45m5.45 0h-5.45m0 0c-1.81 0-2.72-.91-2.72-2.72m2.72 2.72c-1.81 0-2.72-.91-2.72-2.72m0 0V225.77m0 166.18V225.77m0 0c0-1.81.91-2.72 2.72-2.72m-2.72 2.72c0-1.81.91-2.72 2.72-2.72" stroke="#2f9e44" fill="none"></path></g><g mask="url(#mask-SuG8UWeyMtPW_aRD93xd4)" stroke-linecap="round"><path d="M356.074 283.027c46.89.11 234.47.55 281.37.67m-281.37-.67c46.89.11 234.47.55 281.37.67" stroke="#000" fill="none"></path><path d="m356.074 283.027 13.61-6.31-.03 12.68-13.58-6.37" stroke-width="0" fill-rule="evenodd"></path><path d="M356.074 283.027c4.66-2.16 9.33-4.32 13.61-6.31m-13.61 6.31c5.27-2.44 10.55-4.89 13.61-6.31m0 0c-.01 2.94-.01 5.88-.03 12.68m.03-12.68-.03 12.68m0 0c-3.38-1.58-6.75-3.17-13.58-6.37m13.58 6.37c-3.81-1.79-7.62-3.58-13.58-6.37m0 0s0 0 0 0m0 0s0 0 0 0" stroke="#000" fill="none"></path></g><mask id="mask-SuG8UWeyMtPW_aRD93xd4"><path fill="#fff" d="M0 0h737.439v383.692H0z"></path><path d="M436.885 273.359h119.744v20H436.885z"></path></mask><text x="59.872" font-family="Virgil, Segoe UI Emoji" font-size="16" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(436.885 273.36)">triggers pipeline</text><text x="42.59" font-family="Virgil, Segoe UI Emoji" font-size="20" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(312.69 10)">Platform</text><text x="42.59" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(312.69 10)">Cluster</text><path d="M651.72 69.85v337.06m0-337.06v337.06" stroke="#000" fill="none" stroke-linecap="round"></path><g mask="url(#mask-YYR02JjDCy7WuRkc0PlNk)" stroke-linecap="round"><path d="M647.15 244.165H355.39m291.76 0H355.39" stroke="#000" fill="none"></path><path d="m647.15 244.165-13.59 6.34v-12.68l13.59 6.34" stroke-width="0" fill-rule="evenodd"></path><path d="M647.15 244.165c-3.14 1.46-6.27 2.93-13.59 6.34m13.59-6.34c-3.98 1.86-7.97 3.72-13.59 6.34m0 0v-12.68m0 12.68v-12.68m0 0c3.79 1.77 7.59 3.54 13.59 6.34m-13.59-6.34c4.59 2.14 9.18 4.28 13.59 6.34m0 0s0 0 0 0m0 0s0 0 0 0" stroke="#000" fill="none"></path></g><mask id="mask-YYR02JjDCy7WuRkc0PlNk"><path fill="#fff" d="M0 0h1038.904v344.165H0z"></path><path d="M434.336 234.165h133.872v20H434.336z"></path></mask><text x="66.936" font-family="Virgil, Segoe UI Emoji" font-size="16" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(434.336 234.165)">resource request</text><g mask="url(#mask-dvKKXGus9uJErmXi0x5IO)" stroke-linecap="round"><path d="m361.463 349.562 274.95-2.4m-274.95 2.4 274.95-2.4" stroke="#228be6" fill="none"></path><path d="m361.463 349.562 13.54-6.46.11 12.68-13.65-6.22" stroke-width="0" fill="#228be6" fill-rule="evenodd"></path><path d="M361.463 349.562c4.89-2.33 9.79-4.67 13.54-6.46m-13.54 6.46c3.28-1.57 6.56-3.13 13.54-6.46m0 0 .11 12.68m-.11-12.68c.02 2.9.05 5.8.11 12.68m0 0c-4.09-1.87-8.19-3.73-13.65-6.22m13.65 6.22c-4.1-1.87-8.19-3.73-13.65-6.22m0 0s0 0 0 0m0 0s0 0 0 0" stroke="#228be6" fill="none"></path></g><mask id="mask-dvKKXGus9uJErmXi0x5IO"><path fill="#fff" d="M0 0h736.416v451.965H0z"></path><path d="M409.267 328.361h179.344v40H409.267z"></path></mask><text x="89.672" font-family="Virgil, Segoe UI Emoji" font-size="16" fill="#228be6" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(409.267 328.361)">get clusters with label</text><text x="89.672" y="20" font-family="Virgil, Segoe UI Emoji" font-size="16" fill="#228be6" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(409.267 328.361)">pvCapacity=large</text><g mask="url(#mask-pgvNYIzU5twJSr8HGBTfW)" stroke-linecap="round"><path d="M647.327 383.818c-48.01.23-240.04 1.14-288.05 1.37" stroke="#e03131" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path><path d="m647.327 383.818-13.56 6.4-.06-12.67 13.62 6.27" stroke-width="0" fill="#e03131" fill-rule="evenodd"></path><path d="M647.327 383.818c-4.99 2.36-9.99 4.72-13.56 6.4m0 0c-.02-2.88-.03-5.76-.06-12.67m0 0c2.87 1.32 5.75 2.65 13.62 6.27m0 0s0 0 0 0" stroke="#e03131" stroke-width="1.5" fill="none"></path></g><mask id="mask-pgvNYIzU5twJSr8HGBTfW"><path fill="#fff" d="M0 0h1035.373v485.19H0z"></path><path d="M434.296 374.504h138.016v20H434.296z"></path></mask><text x="69.008" font-family="Virgil, Segoe UI Emoji" font-size="16" fill="#e03131" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(434.296 374.504)">no clusters found</text><g stroke-linecap="round"><path d="M508.803 396.658h191.89l4.59.66 3.28 1.97 1.97 3.28.66 4.59v21l-.66 4.6-1.97 3.28-3.28 1.97-4.59.66h-191.89l-4.59-.66-3.28-1.97-1.97-3.28-.66-4.6v-21l.66-4.59 1.97-3.28 3.28-1.97 4.59-.66" stroke-width="0" fill="#ffc9c9"></path><path d="M508.803 396.658h191.89m-191.89 0h191.89m0 0c7 0 10.5 3.5 10.5 10.5m-10.5-10.5c7 0 10.5 3.5 10.5 10.5m0 0v21m0-21v21m0 0c0 7.01-3.5 10.51-10.5 10.51m10.5-10.51c0 7.01-3.5 10.51-10.5 10.51m0 0h-191.89m191.89 0h-191.89m0 0c-7 0-10.5-3.5-10.5-10.51m10.5 10.51c-7 0-10.5-3.5-10.5-10.51m0 0v-21m0 21v-21m0 0c0-7 3.5-10.5 10.5-10.5m-10.5 10.5c0-7 3.5-10.5 10.5-10.5" stroke="#e64980" fill="none"></path></g><text x="81.064" font-family="Virgil, Segoe UI Emoji" font-size="16" fill="#e64980" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(530.258 410.58)">error: can&#x27;t schedule</text><g mask="url(#mask-tEhfBSCdojvvysAPPslhi)" stroke-linecap="round"><path d="M646.225 311.19h-291.76m291.76 0h-291.76" stroke="#000" fill="none"></path><path d="m646.225 311.19-13.59 6.34v-12.68l13.59 6.34" stroke-width="0" fill-rule="evenodd"></path><path d="M646.225 311.19c-3.98 1.86-7.97 3.71-13.59 6.34m13.59-6.34c-4.25 1.98-8.5 3.96-13.59 6.34m0 0v-12.68m0 12.68v-12.68m0 0c4 1.87 8 3.74 13.59 6.34m-13.59-6.34c2.83 1.32 5.67 2.65 13.59 6.34m0 0s0 0 0 0m0 0s0 0 0 0" stroke="#000" fill="none"></path></g><mask id="mask-tEhfBSCdojvvysAPPslhi"><path fill="#fff" d="M0 0h1037.98v411.19H0z"></path><path d="M447.484 301.19h105.728v20H447.484z"></path></mask><text x="52.864" font-family="Virgil, Segoe UI Emoji" font-size="16" text-anchor="middle" style="white-space:pre" dominant-baseline="text-before-edge" transform="translate(447.484 301.19)">Outputs work</text><g stroke-linecap="round"><path d="m653.972 222.914 7.49.68.68 2.04v166.18l-.68 2.04-2.04.68-7.49-.68-.68-2.04v-166.18l.68-2.04 2.04-.68" stroke-width="0" fill="#b2f2bb"></path><path d="M653.972 222.914h5.45m-5.45 0h5.45m0 0c1.81 0 2.72.91 2.72 2.72m-2.72-2.72c1.81 0 2.72.91 2.72 2.72m0 0v166.18m0-166.18v166.18m0 0c0 1.81-.91 2.72-2.72 2.72m2.72-2.72c0 1.81-.91 2.72-2.72 2.72m0 0h-5.45m5.45 0h-5.45m0 0c-1.81 0-2.72-.91-2.72-2.72m2.72 2.72c-1.81 0-2.72-.91-2.72-2.72m0 0v-166.18m0 166.18v-166.18m0 0c0-1.81.91-2.72 2.72-2.72m-2.72 2.72c0-1.81.91-2.72 2.72-2.72" stroke="#2f9e44" fill="none"></path></g></svg></figure><h3 class="anchor anchorWithStickyNavbar_LWe7" id="label-the-cluster-1">Label the cluster<a href="#label-the-cluster-1" class="hash-link" aria-label="Direct link to Label the cluster" title="Direct link to Label the cluster">‚Äã</a></h3><p>Next add the <code>pvCapacity=large</code> label to the cluster:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context $PLATFORM label cluster worker-cluster-1 pvCapacity=large</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-the-resource-request-is-scheduled">Verify the Resource Request is scheduled<a href="#verify-the-resource-request-is-scheduled" class="hash-link" aria-label="Direct link to Verify the Resource Request is scheduled" title="Direct link to Verify the Resource Request is scheduled">‚Äã</a></h3><p>Kratix detects this change to the cluster labels and identifies that the Resource
Request matches a Kratix Cluster so begins the scheduling process:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$WORKER</span><span class="token plain"> get pods -w</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above command will give an output similar to:</p><div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token output">NAME                            READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token output">elastic-instance-es-default-0   1/1     Running   0          5m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">‚Äã</a></h2><p>And with that, you have successfully managed the scheduling of both Promises and
their Resource Requests!</p><p>To recap what you achieved:</p><ol><li>‚úÖ<!-- -->¬†<!-- -->¬†<!-- --> Your Promise is scheduled to desired clusters</li><li>‚úÖ<!-- -->¬†<!-- -->¬†<!-- --> Resource requests are dynamically scheduled depending on user input</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cleanup">Clean up environment<a href="#cleanup" class="hash-link" aria-label="Direct link to Clean up environment" title="Direct link to Clean up environment">‚Äã</a></h2><p>Before moving on, please remove the ECK Promise from your cluster.</p><p>To delete all the Promises:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl --context </span><span class="token variable" style="color:#36acaa">$PLATFORM</span><span class="token plain"> delete promises --all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="--congratulations">üéâ <!-- -->¬†<!-- --> Congratulations!<a href="#--congratulations" class="hash-link" aria-label="Direct link to --congratulations" title="Direct link to --congratulations">‚Äã</a></h2><p>‚úÖ<!-- -->¬†<!-- -->¬†<!-- -->Your Promise can now schedule to a multi-cluster infrastructure. <br>
üëâüèæ<!-- -->¬†<!-- -->¬†<!-- -->Next you will <a href="/docs/workshop/update-status">update the Resource Request status</a> with useful information.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/syntasso/kratix-docs/tree/main/docs/workshop/part-ii/04-schedule-promise.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/workshop/shared-dependencies"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Extracting shared dependencies</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/workshop/update-status"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Update the Resource Request status</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisite-setup" class="table-of-contents__link toc-highlight">Prerequisite setup</a></li><li><a href="#understand-scheduling" class="table-of-contents__link toc-highlight">Promise scheduling</a></li><li><a href="#dependency-scheduling" class="table-of-contents__link toc-highlight">Schedule Promises to specific clusters</a><ul><li><a href="#apply-the-promise" class="table-of-contents__link toc-highlight">Apply the Promise</a></li><li><a href="#verify-the-resource-are-not-scheduled" class="table-of-contents__link toc-highlight">Verify the resource are not scheduled</a></li><li><a href="#label-the-cluster" class="table-of-contents__link toc-highlight">Label the cluster</a></li><li><a href="#verify-the-worker" class="table-of-contents__link toc-highlight">Verify the worker</a></li></ul></li><li><a href="#rr-scheduling" class="table-of-contents__link toc-highlight">Schedule Resource Requests to specific clusters</a><ul><li><a href="#build-the-image" class="table-of-contents__link toc-highlight">Build the image</a></li><li><a href="#send-a-resource-request" class="table-of-contents__link toc-highlight">Send a Resource Request</a></li><li><a href="#verify-the-pipeline" class="table-of-contents__link toc-highlight">Verify the pipeline</a></li><li><a href="#verify-the-resource-request-has-not-been-scheduled" class="table-of-contents__link toc-highlight">Verify the Resource Request has not been scheduled</a></li><li><a href="#label-the-cluster-1" class="table-of-contents__link toc-highlight">Label the cluster</a></li><li><a href="#verify-the-resource-request-is-scheduled" class="table-of-contents__link toc-highlight">Verify the Resource Request is scheduled</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#cleanup" class="table-of-contents__link toc-highlight">Clean up environment</a></li><li><a href="#--congratulations" class="table-of-contents__link toc-highlight">üéâ ¬† Congratulations!</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/main/intro">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/kratixio" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/syntasso/kratix" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://syntasso.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Syntasso<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2023 Syntasso Limited. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.21129bfd.js"></script>
<script src="/assets/js/main.6b807c86.js"></script>
</body>
</html>