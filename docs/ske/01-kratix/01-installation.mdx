---
title: Installation
description: Installing Syntasso Kratix Enterprise
sidebar_label: Installation
---

Syntasso Kratix Enterprise images are distributed through a private image registry. To
install SKE on your Kubernetes cluster, follow the steps below.

### Install SKE operator

:::info

Syntasso Kratix Enterprise requires cert-manager to be installed on the cluster. Please
refer to [its documentation for installation instructions](https://cert-manager.io/).

:::

The easiest way to install SKE operator is by using the Helm chart provided by
Syntasso. Start by adding the Syntasso Helm repository:

```bash
helm repo add syntasso https://syntasso.github.io/helm-charts
helm repo update
```

Next, install the SKE Operator:

```bash
helm install ske-operator syntasso/ske-operator \
  --set skeLicense=<YOUR LICENSE TOKEN> \
  # add the following flags if you want to deploy Kratix Enterprise as well
  --set skeDeployment.enabled=true \
  --set skeDeployment.version=v0.3.0
```

<details>
<summary>Alternative installation method</summary>

If you prefer not to use Helm, you can install the SKE operator by applying the
manifests directly.

First, create the namespace where the SKE operator will be installed:

```bash
kubectl create namespace kratix-platform-system
```

Then, create a secret with your license token:

```
kubectl create secret docker-registry syntasso-registry \
  --namespace=kratix-platform-system \
  --docker-server=ghcr.io \
  --docker-username=syntasso-pkg \
  --docker-password=<YOUR TOKEN>
```


The manifests are available in the [Syntasso Releases
Page](http://syntasso-enterprise-releases.s3-website.eu-west-2.amazonaws.com/#ske/ske-operator).
Find the latest release and apply it with `kubectl`:


```bash
kubectl apply -f http://s3.eu-west-2.amazonaws.com/syntasso-enterprise-releases/ske/ske-operator/v0.1.2/ske-operator-distribution.yaml
```

With the Operator in place, you can now install Kratix Enterprise by creating a
'Kratix' instance. Below is an example 'Kratix' instance definition:

```yaml
apiVersion: platform.syntasso.io/v1alpha1
kind: Kratix
metadata:
  name: kratix-example
spec:
  releasesBucket:
    name: # name of the bucket containing Kratix Enterprise releases; optional
    region: # region of the bucket; optional
    path: # subpath within the bucket; optional
  version: v0.3.0 # version of Kratix Enterprise to install; default to the latest release found in release bucket
```

You can save the 'Kratix' instance definition to a local file and apply with kubectl.
SKE operator will then install Kratix Enterprise and its necessary configurations.

By default, when `spec.releasesBucket` is not set, SKE operator will use the Syntasso Enterprise releases bucket.
Note that 'Kratix' is a cluster scoped and singleton resource.

Only one instance of Kratix can be installed in a cluster.

</details>

### Verify the installation

To verify that Kratix Enterprise has been installed successfully, run the following command:

```bash
kubectl get deployments.apps --namespace kratix-platform-system
```

You should see the following output:

```shell-session
NAME                                 READY   UP-TO-DATE   AVAILABLE   AGE
kratix-platform-controller-manager   1/1     1            1           1h
ske-operator-controller-manager      1/1     1            1           1h
```

You can now proceed with the configuration of Kratix (i.e. registering destinations or
installing promises). For that, refer to the Open-Source Kratix documentation.

## Upgrades

### Upgrading the Operator

To verify the version of the Operator installed, run the following command:

```bash
helm list
```

You should see the following output:

```shell-session
NAME            NAMESPACE    [...]    CHART                   APP VERSION
ske-operator    default      [...]    ske-operator-0.8.0      v0.1.1
```

To check the available versions of the Operator, run the following command:

```bash
helm search repo syntasso/ske-operator --versions
```

To upgrade, run:

```bash
helm upgrade ske-operator syntasso/ske-operator # --version <VERSION>
```


:::info Not using Helm?

Refer to the alternative installation method summary box above to upgrade the operator without Helm.

:::

### Upgrading the SKE Instance

To upgrade the version of SKE being deployed by the operator, you can edit your
Kratix instance definition and change the `version` field to the desired
version.

Upgrades from a version vX.Y.Z to vX.Y+2.Z are not supported. You must upgrade to
vX.Y+1.Z first.


## Deletes

### Deleting the SKE Operator

To delete the SKE operator (and any deployed SKE instance), run the following command:

```bash
helm uninstall ske-operator
```

### Deleting the SKE Instance


To delete the SKE instance, run:

```
kubectl -n kratix-platform-system delete kratix <INSTANCE_NAME>
```
