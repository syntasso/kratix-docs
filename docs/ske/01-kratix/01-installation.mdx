---
title: Installation
description: Installing Syntasso Kratix Enterprise
sidebar_label: Installation
---

Syntasso Kratix Enterprise images are distributed through a private image registry. To
install SKE on your Kubernetes cluster, follow the steps below.

### Install SKE operator (pending)

:::info

Syntasso Kratix Enterprise requires cert-manager to be installed on the cluster. Please
refer to the Open-Source Kratix documentation for instructions on how to install cert-manager.

:::

### Create the Pull Secret

To enable your Kubernetes cluster to pull images from the private registry, you need to
create a secret with the registry credentials.

```
kubectl create secret docker-registry syntasso-registry \
  --namespace=kratix-platform-system \
  --docker-server=ghcr.io \
  --docker-username=syntasso-pkg \
  --docker-password=<YOUR TOKEN>
```

Replace `<YOUR TOKEN>` with the token provided by Syntasso.

:::warning

The secret above must exist in the `kratix-platform-system` namespace and in all
namespaces where resource requests will be made from.

Alternatively, you can follow the [Kubernetes
documentation](https://kubernetes.io/docs/concepts/containers/images/#configuring-nodes-to-authenticate-to-a-private-registry)
and configure your nodes to authenticate directly with the private registry.

:::

### Deploy Kratix

With the secret in place, you can now install Kratix Enterprise by creating a 'Kratix' instance.
Below is an example 'Kratix' instance definition:

```yaml
apiVersion: platform.syntasso.io/v1alpha1
kind: Kratix
metadata:
  name: kratix-example
spec:
  releasesBucket:
    name: # name of the bucket containing Kratix Enterprise releases; optional
    region: # region of the bucket; optional
    path: # subpath within the bucket; optional
  version: v0.1.0 # version of Kratix Enterprise to install; default to the latest release found in release bucket
```

You can save the 'Kratix' instance definition to a local file and apply with kubectl.
SKE operator will then install Kratix Enterprise and its necessary configurations.

By default, when `spec.releasesBucket` is not set, SKE operator will use the Syntasso Enterprise releases bucket.
Note that 'Kratix' is a cluster scoped and singleton resource.
If you try to create a second 'Kratix' instance, SKE operator will reject the request.

### Verify the installation

To verify that Kratix Enterprise has been installed successfully, run the following command:

```bash
kubectl get deployments.apps --namespace kratix-platform-system
```

You should see the following output:

```shell-session
NAME                                 READY   UP-TO-DATE   AVAILABLE   AGE
kratix-platform-controller-manager   1/1     1            1           13m
```

If you inspect the images used by the deployment:

```bash
kubectl get deployments.apps kratix-platform-controller-manager --namespace kratix-platform-system --output yaml | grep " ghcr"
```

You should an output similar to:

```shell-session
image: ghcr.io/syntasso/ske-platform:4317d6553b0b29a7c005d86828666ea4f73641fa
```

This confirms that the controller manager is running the correct image.

You can now proceed with the configuration of Kratix (i.e. registering destinations or
installing promises). For that, refer to the Open-Source Kratix documentation.
